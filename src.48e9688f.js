parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"lpSI":[function(require,module,exports) {
"use strict";function e(e,t={}){const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function c(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let l of r)Object.defineProperty(c,l,{value:t[l],enumerable:t.propertyIsEnumerable(l)});return Object.defineProperty(c,Symbol.hasInstance,{value:e=>!!e[n]}),c}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixin=e;
},{}],"iE2i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../mixin");exports.IWatch=t.mixin({addWatch(t,e){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=e,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,e){if(!this._watches)return;const s=this._watches;for(let h in s)s[h](h,t,e)}});
},{"../mixin":"lpSI"}],"MJqy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e extends Error{constructor(e){super("illegal state"+(void 0!==e?": "+e:""))}}function t(t){throw new e(t)}exports.IllegalStateError=e,exports.illegalState=t;
},{}],"fm3I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=Array.isArray;
},{}],"a3Af":[function(require,module,exports) {
"use strict";function e(e){return"string"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isString=e;
},{}],"TWhV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e extends Error{constructor(e){super("illegal argument(s)"+(void 0!==e?": "+e:""))}}function r(r){throw new e(r)}exports.IllegalArgumentError=e,exports.illegalArgs=r;
},{}],"X3Fy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-array"),t=require("@thi.ng/checks/is-string"),r=require("@thi.ng/errors/illegal-arguments"),n=e=>Array.isArray(e)?e.slice():Object.assign({},e),u=(e,t)=>(r,u)=>((r=n(r))[e]=t?t(r[e],u):u,r),s=(e,t)=>r=>r?t(r[e]):void 0;function o(r){return e.isArray(r)?r:t.isString(r)?r.length>0?r.split("."):[]:null!=r?[r]:[]}function l(e){const t=o(e);let[r,n,u,l]=t;switch(t.length){case 0:return e=>e;case 1:return e=>e?e[r]:void 0;case 2:return e=>e&&(e=e[r])?e[n]:void 0;case 3:return e=>e&&(e=e[r])&&(e=e[n])?e[u]:void 0;case 4:return e=>e&&(e=e[r])&&(e=e[n])&&(e=e[u])?e[l]:void 0;default:const e=t[t.length-1];let o=t=>t?t[e]:void 0;for(let r=t.length-2;r>=0;r--)o=s(t[r],o);return o}}function i(e){const t=o(e);let[r,s,l,i]=t;switch(t.length){case 0:return(e,t)=>t;case 1:return(e,t)=>(e=n(e),e[r]=t,e);case 2:return(e,t)=>{let u;return(e=n(e))[r]=u=n(e[r]),u[s]=t,e};case 3:return(e,t)=>{let u,o;return(e=n(e))[r]=u=n(e[r]),u[s]=o=n(u[s]),o[l]=t,e};case 4:return(e,t)=>{let u,o,c;return(e=n(e))[r]=u=n(e[r]),u[s]=o=n(u[s]),o[l]=c=n(o[l]),c[i]=t,e};default:let e;for(let r=t.length-1;r>=0;r--)e=u(t[r],e);return e}}function c(e,t){return l(t)(e)}function a(e,t,r){return i(t)(e,r)}function g(e,...t){const n=t.length;1&n&&r.illegalArgs(`require an even number of args (got ${t.length})`);for(let r=0;r<n;r+=2)e=a(e,t[r],t[r+1]);return e}function f(e,t){const r=l(e),n=i(e);return(e,...u)=>n(e,t.apply(null,(u.unshift(r(e)),u)))}function h(e,t,r,...n){return i(t)(e,r.apply(null,(n.unshift(l(t)(e)),n)))}function p(e,t){const r=[...o(t)];if(r.length>0){const t=r.pop();return h(e,r,e=>(delete(e=Object.assign({},e))[t],e))}}function d(e){const t=o(e);let[r,n,u,s]=t;switch(t.length){case 0:return(e,t)=>t;case 1:return(e,t)=>e?(e[r]=t,e):void 0;case 2:return(e,t)=>{let u;return e&&(u=e[r])?(u[n]=t,e):void 0};case 3:return(e,t)=>{let s;return e&&(s=e[r])&&(s=s[n])?(s[u]=t,e):void 0};case 4:return(e,t)=>{let o;return e&&(o=e[r])&&(o=o[n])&&(o=o[u])?(o[s]=t,e):void 0};default:return(e,r)=>{let n=e;const u=t.length-1;for(let s=0;s<u;s++)if(!(n=n[t[s]]))return;return n[t[u]]=r,e}}}function x(e,t,r){return d(t)(e,r)}function v(e,...t){const n=t.length;1&n&&r.illegalArgs(`require an even number of args (got ${t.length})`);for(let r=0;r<n&&e;r+=2)e=x(e,t[r],t[r+1]);return e}exports.toPath=o,exports.exists=((e,t)=>{if(null==e)return!1;for(let r=(t=o(t)).length-1,n=0;n<=r;n++){const u=t[n];if(!e.hasOwnProperty(u))return!1;if(null==(e=e[u])&&n<r)return!1}return!0}),exports.getter=l,exports.setter=i,exports.getIn=c,exports.setIn=a,exports.setInMany=g,exports.updater=f,exports.updateIn=h,exports.deleteIn=p,exports.mutator=d,exports.mutIn=x,exports.mutInMany=v;
},{"@thi.ng/checks/is-array":"fm3I","@thi.ng/checks/is-string":"a3Af","@thi.ng/errors/illegal-arguments":"TWhV"}],"zlnS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=Object.getPrototypeOf({}),t="function",o="string";exports.equiv=((i,r)=>{let n;return i===r||(null==i?i==r:typeof i.equiv===t?i.equiv(r):null==r?i==r:typeof r.equiv===t?r.equiv(i):typeof i!==o&&typeof r!==o&&(null!=(n=Object.getPrototypeOf(i))&&n!==e||null!=(n=Object.getPrototypeOf(r))&&n!==e?typeof i!==t&&void 0!==i.length&&typeof r!==t&&void 0!==r.length?exports.equivArrayLike(i,r):i instanceof Set&&r instanceof Set?exports.equivSet(i,r):i instanceof Map&&r instanceof Map?exports.equivMap(i,r):i instanceof Date&&r instanceof Date?i.getTime()===r.getTime():i instanceof RegExp&&r instanceof RegExp?i.toString()===r.toString():i!=i&&r!=r:exports.equivObject(i,r)))}),exports.equivArrayLike=((e,t,o=exports.equiv)=>{let i=e.length;if(i===t.length)for(;--i>=0&&o(e[i],t[i]););return i<0}),exports.equivSet=((e,t,o=exports.equiv)=>e.size===t.size&&o([...e.keys()].sort(),[...t.keys()].sort())),exports.equivMap=((e,t,o=exports.equiv)=>e.size===t.size&&o([...e].sort(),[...t].sort())),exports.equivObject=((e,t,o=exports.equiv)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!t.hasOwnProperty(i)||!o(e[i],t[i]))return!1;return!0});
},{}],"kejP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@thi.ng/equiv"),s=require("@thi.ng/paths");class i{constructor(e,h,r,a=!0,d=t.equiv){this.parent=e,this.id=`view-${i.NEXT_ID++}`,this.tx=r||(t=>t),this.path=s.toPath(h),this.isDirty=!0,this.isLazy=a;const n=s.getter(this.path),o=this.parent.deref();this.unprocessed=o?n(o):void 0,a||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),e.addWatch(this.id,(t,s,i)=>{const e=s?n(s):s,h=i?n(i):i;d(h,e)||(a?this.unprocessed=h:this.state=this.tx(h),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}i.NEXT_ID=0,exports.View=i;
},{"@thi.ng/equiv":"zlnS","@thi.ng/paths":"X3Fy"}],"QdOP":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,i,r){var s,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,r);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(l=(a<3?s(l):a>3?s(t,i,l):s(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@thi.ng/api/mixins/iwatch"),i=require("@thi.ng/errors/illegal-state"),r=require("@thi.ng/paths"),s=require("./view");let a=class{constructor(e,t){t&&!t(e)&&i.illegalState("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(r.setIn(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...i){return this.reset(r.updateIn(this._value,e,t,...i))}addWatch(e,t){return!1}removeWatch(e){return!1}notifyWatches(e,t){}addView(e,t,i=!0){return new s.View(this,e,t,i)}release(){return delete this._watches,delete this._value,!0}};a=e([t.IWatch],a),exports.Atom=a;
},{"@thi.ng/api/mixins/iwatch":"iE2i","@thi.ng/errors/illegal-state":"MJqy","@thi.ng/paths":"X3Fy","./view":"kejP"}],"biGe":[function(require,module,exports) {
"use strict";function e(e){return"function"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=e;
},{}],"HmRg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class r extends Error{constructor(r){super(`illegal arity: ${r}`)}}function e(e){throw new r(e)}exports.IllegalArityError=r,exports.illegalArity=e;
},{}],"35V7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-array"),t=require("@thi.ng/checks/is-function"),r=require("@thi.ng/errors/illegal-arguments"),s=require("@thi.ng/errors/illegal-arity"),a=require("@thi.ng/paths"),i=require("./atom"),l=require("./view");class h{constructor(...l){let c,n,o,u,d,p;switch(l.length){case 1:n=(p=l[0]).id,c=p.parent,d=p.validate,p.path?e.isArray(p.path)&&t.isFunction(p.path[0])?[o,u]=p.path:(o=a.getter(p.path),u=a.setter(p.path)):r.illegalArgs("missing path config");break;case 2:c=l[0],o=a.getter(l[1]),u=a.setter(l[1]);break;case 3:[c,o,u]=l;break;default:s.illegalArity(l.length)}this.parent=c,this.id=n||`cursor-${h.NEXT_ID++}`,this.selfUpdate=!1,o&&u||r.illegalArgs(),this.local=new i.Atom(o(c.deref()),d),this.local.addWatch(this.id,(e,t,r)=>{t!==r&&(this.selfUpdate=!0,c.swap(e=>u(e,r)),this.selfUpdate=!1)}),c.addWatch(this.id,(e,t,r)=>{if(!this.selfUpdate){const e=o(r);e!==o(t)&&this.local.reset(e)}})}get value(){return this.deref()}set value(e){this.reset(e)}deref(){return this.local.deref()}release(){return this.local.release(),this.parent.removeWatch(this.id),delete this.local,delete this.parent,!0}reset(e){return this.local.reset(e)}resetIn(e,t){return this.local.resetIn(e,t)}swap(e,...t){return this.local.swap(e,...t)}swapIn(e,t,...r){return this.local.swapIn(e,t,...r)}addWatch(e,t){return this.local.addWatch(e,t)}removeWatch(e){return this.local.removeWatch(e)}notifyWatches(e,t){return this.local.notifyWatches(e,t)}addView(e,t,r=!0){return new l.View(this,e,t,r)}}h.NEXT_ID=0,exports.Cursor=h;
},{"@thi.ng/checks/is-array":"fm3I","@thi.ng/checks/is-function":"biGe","@thi.ng/errors/illegal-arguments":"TWhV","@thi.ng/errors/illegal-arity":"HmRg","@thi.ng/paths":"X3Fy","./atom":"QdOP","./view":"kejP"}],"U5ac":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_EPS=1e-6,exports.EVENT_ALL="*",exports.EVENT_ENABLE="enable",exports.EVENT_DISABLE="disable",exports.SEMAPHORE=Symbol();
},{}],"Bgy8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../api"),t=require("../mixin");function i(e,t){if(!e)return;const i=e.length;let s,r=0;for(r=0;r<i;r++)if((s=e[r])[0].call(s[1],t),t.canceled)return}exports.inotify_dispatch=i,exports.INotify=t.mixin({addListener(e,t,i){let s=(this._listeners=this._listeners||{})[e];return s||(s=this._listeners[e]=[]),-1===this.__listener(s,t,i)&&(s.push([t,i]),!0)},removeListener(e,t,i){if(!this._listeners)return!1;const s=this._listeners[e];if(s){const e=this.__listener(s,t,i);if(-1!==e)return s.splice(e,1),!0}return!1},notify(t){this._listeners&&(void 0===t.target&&(t.target=this),i(this._listeners[t.id],t),i(this._listeners[e.EVENT_ALL],t))},__listener(e,t,i){let s=e.length;for(;--s>=0;){const r=e[s];if(r[0]===t&&r[1]===i)break}return s}});
},{"../api":"U5ac","../mixin":"lpSI"}],"I+CL":[function(require,module,exports) {
"use strict";var t,e=this&&this.__decorate||function(t,e,s,r){var i,h=arguments.length,n=h<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(n=(h<3?i(n):h>3?i(e,s,n):i(e,s))||n);return h>3&&n&&Object.defineProperty(e,s,n),n};Object.defineProperty(exports,"__esModule",{value:!0});const s=require("@thi.ng/api/mixins/inotify"),r=require("@thi.ng/equiv"),i=require("@thi.ng/paths"),h=require("./view");let n=t=class{constructor(t,e=100,s){this.state=t,this.maxLen=e,this.changed=s||((t,e)=>!r.equiv(t,e)),this.clear()}get value(){return this.deref()}set value(t){this.reset(t)}canUndo(){return this.history.length>0}canRedo(){return this.future.length>0}clear(){this.history=[],this.future=[]}undo(){if(this.history.length){const e=this.state.deref();this.future.push(e);const s=this.state.reset(this.history.pop());return this.notify({id:t.EVENT_UNDO,value:{prev:e,curr:s}}),s}}redo(){if(this.future.length){const e=this.state.deref();this.history.push(e);const s=this.state.reset(this.future.pop());return this.notify({id:t.EVENT_REDO,value:{prev:e,curr:s}}),s}}reset(t){const e=this.state.deref();return this.state.reset(t),this.changed(e,this.state.deref())&&this.record(e),t}resetIn(t,e){const s=this.state.deref(),r=i.getIn(s,t),h=i.setIn(s,t,e);return this.state.reset(h),this.changed(r,i.getIn(h,t))&&this.record(s),h}swap(t,...e){return this.reset(t(this.state.deref(),...e))}swapIn(t,e,...s){const r=this.state.deref(),h=i.getIn(r,t),n=i.updateIn(this.state.deref(),t,e,...s);return this.state.reset(n),this.changed(h,i.getIn(n,t))&&this.record(r),n}record(e){const s=this.history,r=s.length;let i=!0;arguments.length||(e=this.state.deref(),i=!r||this.changed(s[r-1],e)),i&&(r>=this.maxLen&&s.shift(),s.push(e),this.notify({id:t.EVENT_RECORD,value:e}),this.future.length=0)}deref(){return this.state.deref()}addWatch(t,e){return this.state.addWatch(t,e)}removeWatch(t){return this.state.removeWatch(t)}notifyWatches(t,e){return this.state.notifyWatches(t,e)}addView(t,e,s=!0){return new h.View(this,t,e,s)}release(){return this.state.release(),delete this.state,!0}addListener(t,e,s){return!1}removeListener(t,e,s){return!1}notify(t){}};n.EVENT_UNDO="undo",n.EVENT_REDO="redo",n.EVENT_RECORD="record",n=t=e([s.INotify],n),exports.History=n;
},{"@thi.ng/api/mixins/inotify":"Bgy8","@thi.ng/equiv":"zlnS","@thi.ng/paths":"X3Fy","./view":"kejP"}],"qjcu":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./atom")),e(require("./cursor")),e(require("./history")),e(require("./view"));
},{"./atom":"QdOP","./cursor":"35V7","./history":"I+CL","./view":"kejP"}],"GBwI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEBUG=!1;
},{}],"7yUA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@thi.ng/equiv");let e,n,l=[],s=[];const r=t=>e&&e.length>=t?e:e=new Int32Array(t),o=t=>n&&n.length>=t?n:n=new Int32Array(t),h=(t,e,n,l,s)=>{const r=e.length,o=t.linear;if(t.distance=r,0!==s){for(let t=0,n=0;t<r;t++,n+=3)o[n]=l,o[n+1]=t,o[n+2]=e[t];if(2===s){const l=t[n];for(let t=0;t<r;t++)l[t]=e[t]}}return t};exports.diffArray=((e,n,i=2,f=t.equiv)=>{const d={distance:0,adds:{},dels:{},const:{},linear:[]};if(e===n||null==e&&null==n)return d;if(null==e||0===e.length)return h(d,n,"adds",1,i);if(null==n||0===n.length)return h(d,e,"dels",-1,i);const a=e.length>=n.length;let g,p,y,q;a?(g=n,p=e):(g=e,p=n),y=g.length,q=p.length;const v=y+1,w=q-y,A=w+v,x=y+q+3,I=o(x).fill(-1,0,x),_=r(x).fill(-1,0,x),b=l,j=s;b.length=0,j.length=0;const M=(t,e,n)=>{const l=t+v;let s,r;e>n?(s=I[l-1],r=e):(s=I[l+1],r=n);let o=r-t;for(;o<y&&r<q&&f(g[o],p[r]);)o++,r++;return I[l]=j.length/3,j.push(o,r,s),r};let O,P,k=-1;do{for(P=(O=-++k)+v;O<w;O++,P++)_[P]=M(O,_[P-1]+1,_[P+1]);for(P=(O=w+k)+v;O>w;O--,P--)_[P]=M(O,_[P-1]+1,_[P+1]);_[A]=M(w,_[A-1]+1,_[A+1])}while(_[A]!==q);if(d.distance=w+2*k,0!==i){for(k=3*I[A];k>=0;)b.push(k),k=3*j[k+2];2===i?u(b,j,d,g,p,a):c(b,j,d,g,p,a)}return d});const u=(t,e,n,l,s,r)=>{const o=n.linear,h=n.const;let u,c,i,f,d=t.length,a=0,g=0;for(r?(u=n.dels,c=n.adds,i=-1,f=1):(u=n.adds,c=n.dels,i=1,f=-1);--d>=0;){const n=t[d],r=e[n],p=e[n+1],y=p-r;for(;a<r||g<p;){const t=g-a;y>t?(o.push(i,g,u[g]=s[g]),g++):y<t?(o.push(f,a,c[a]=l[a]),a++):(o.push(0,a,h[a]=l[a]),a++,g++)}}},c=(t,e,n,l,s,r)=>{const o=n.linear,h=r?-1:1,u=r?1:-1;let c=t.length,i=0,f=0;for(;--c>=0;){const n=t[c],r=e[n],d=e[n+1],a=d-r;for(;i<r||f<d;){const t=f-i;a>t?(o.push(h,f,s[f]),f++):a<t?(o.push(u,i,l[i]),i++):(o.push(0,i,l[i]),i++,f++)}}};
},{"@thi.ng/equiv":"zlnS"}],"dHFL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/equiv");exports.diffObject=((s,n,o=2,r=e.equiv)=>s===n?{distance:0}:0===o?t(s,n,r):i(s,n,r));const t=(e,t,i)=>{let s=0;for(let n in e){const o=t[n];(void 0===o||!i(e[n],o))&&s++}for(let n in t)!(n in e)&&s++;return{distance:s}},i=(e,t,i)=>{let s=0;const n=[],o=[],r=[];for(let d in e){const n=t[d];void 0===n?(o.push(d),s++):i(e[d],n)||(r.push(d,n),s++)}for(let d in t)d in e||(n.push(d),s++);return{distance:s,adds:n,dels:o,edits:r}};
},{"@thi.ng/equiv":"zlnS"}],"vOIZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const n=require("@thi.ng/api/api"),t=require("@thi.ng/diff/array"),_=require("@thi.ng/diff/object"),r=require("@thi.ng/equiv"),g=Array.isArray,a=Math.max,b=(()=>{const n=new Array(2048);for(let t=2,_=n.length;t<_;t++)n[t]=t-2;return n})(),A=n=>{if(n<=b.length)return b.slice(0,n);const t=new Array(n);for(;--n>=2;)t[n]=n-2;return t};exports.diffTree=((n,_,r,b,O,T=0)=>{const c=O[1];if(c.__skip)return;if(!1===c.__diff)return exports.releaseTree(b),void _.replaceChild(n,r,T,O);let M=c.__impl;if(M&&M!==_)return M.diffTree(n,M,r,b,O,T);const S=t.diffArray(b,O,1,exports.equiv);if(0===S.distance)return;const C=S.linear,E=_.getChild(r,T);let P,o,R,w,D,H,d,z;if(0!==C[0]||b[1].key!==c.key)return exports.releaseTree(b),void _.replaceChild(n,r,T,O);if((z=b.__release)&&z!==O.__release&&exports.releaseTree(b),0!==C[3]&&(exports.diffAttributes(_,E,b[1],O[1]),2===S.distance))return;const B=C.length,F=b.length-1,G=h(C),I=A(F+1);for(P=2,o=6;o<B;P++,o+=3)if(-1===(d=C[o]))if(z=C[o+2],g(z))if(void 0!==(D=z[1].key)&&void 0!==G[D][2])D=(H=G[D])[0],exports.diffTree(n,_,E,b[D],O[H[2]],I[D]);else for(w=C[o+1],exports.releaseTree(z),_.removeChild(E,I[w]),R=F;R>=w;R--)I[R]=a(I[R]-1,0);else"string"==typeof z&&_.setContent(E,"");else if(1===d)if("string"==typeof(z=C[o+2]))_.setContent(E,z);else if(g(z)&&(void 0===(D=z[1].key)||void 0===G[D][0]))for(w=C[o+1],_.createTree(n,E,z,I[w]),R=F;R>=w;R--)I[R]++;(z=O.__init)&&z!=b.__init&&z.apply(O,[E,...O.__args])}),exports.diffAttributes=((t,g,a,b)=>{const A=_.diffObject(a,b,2,r.equiv);t.removeAttribs(g,A.dels,a);let h,O,T,c=n.SEMAPHORE;for(h=(T=A.edits).length;(h-=2)>=0;){const n=T[h];0===n.indexOf("on")&&t.removeAttribs(g,[n],a),"value"!==n?t.setAttrib(g,n,T[h+1],b):c=T[h+1]}for(h=(T=A.adds).length;--h>=0;)"value"!==(O=T[h])?t.setAttrib(g,O,b[O],b):c=b[O];c!==n.SEMAPHORE&&t.setAttrib(g,"value",c,b)}),exports.releaseTree=(n=>{if(g(n)){let t;if((t=n[1])&&!1===t.__release)return;for(n.__release&&(n.__release.apply(n.__this,n.__args),delete n.__release),t=n.length;--t>=2;)exports.releaseTree(n[t])}});const h=n=>{let t,_,r;const a={};for(let b=n.length;(b-=3)>=0;)_=n[b+2],g(_)&&void 0!==(t=_[1].key)&&(!(r=a[t])&&(a[t]=r=[,,]),r[n[b]+1]=n[b+1]);return a},O=Object.getPrototypeOf({}),T="function",c="string";exports.equiv=((n,t)=>{let _;return n===t||(null==n?n==t:typeof n.equiv===T?n.equiv(t):null==t?n==t:typeof t.equiv===T?t.equiv(n):typeof n!==c&&typeof t!==c&&(null!=(_=Object.getPrototypeOf(n))&&_!==O||null!=(_=Object.getPrototypeOf(t))&&_!==O?typeof n!==T&&void 0!==n.length&&typeof t!==T&&void 0!==t.length?r.equivArrayLike(n,t,exports.equiv):n instanceof Set&&t instanceof Set?r.equivSet(n,t,exports.equiv):n instanceof Map&&t instanceof Map?r.equivMap(n,t,exports.equiv):n instanceof Date&&t instanceof Date?n.getTime()===t.getTime():n instanceof RegExp&&t instanceof RegExp?n.toString()===t.toString():n!=n&&t!=t:!(!1===n.__diff||!1===t.__diff)&&r.equivObject(n,t,exports.equiv)))});
},{"@thi.ng/api/api":"U5ac","@thi.ng/diff/array":"7yUA","@thi.ng/diff/object":"dHFL","@thi.ng/equiv":"zlnS"}],"tpHU":[function(require,module,exports) {
"use strict";function t(t){return null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNotStringAndIterable=t;
},{}],"NMwu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVG_NS="http://www.w3.org/2000/svg",exports.XLINK_NS="http://www.w3.org/1999/xlink",exports.TAG_REGEXP=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/,exports.SVG_TAGS="animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view".split(" ").reduce((e,t)=>(e[t]=1,e),{}),exports.VOID_TAGS="area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr".split(" ").reduce((e,t)=>(e[t]=1,e),{}),exports.ENTITIES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},exports.COMMENT="__COMMENT__",exports.NO_SPANS={button:1,option:1,text:1,textarea:1},exports.ENTITY_RE=new RegExp(`[${Object.keys(exports.ENTITIES)}]`,"g");
},{}],"dl0A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-function");exports.css=(t=>{let s,n="";for(let r in t)s=t[r],e.isFunction(s)&&(s=s(t)),null!=s&&(n+=`${r}:${s};`);return n});
},{"@thi.ng/checks/is-function":"biGe"}],"DFnU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-array"),t=require("@thi.ng/checks/is-not-string-iterable"),r=require("@thi.ng/hiccup/api"),s=require("@thi.ng/hiccup/css"),n=e.isArray,o=t.isNotStringAndIterable;exports.createTree=((e,t,r,s,c)=>{if(n(s)){const n=s[0];if("function"==typeof n)return exports.createTree(e,t,r,n.apply(null,[e.ctx,...s.slice(1)]),c);const o=s[1];if(o.__impl)return o.__impl.createTree(e,r,s,c);const i=t.createElement(r,n,o,c);if(s.length>2){const r=s.length;for(let n=2;n<r;n++)exports.createTree(e,t,i,s[n])}return s.__init&&s.__init.apply(s.__this,[i,...s.__args]),i}if(o(s)){const n=[];for(let o of s)n.push(exports.createTree(e,t,r,o));return n}return null==s?r:t.createTextElement(r,s)}),exports.hydrateTree=((e,t,r,s,c=0)=>{if(n(s)){const n=t.getChild(r,c);"function"==typeof s[0]&&exports.hydrateTree(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),c);const o=s[1];if(o.__impl)return o.__impl.hydrateTree(e,r,s,c);s.__init&&s.__init.apply(s.__this,[n,...s.__args]);for(let e in o)0===e.indexOf("on")&&t.setAttrib(n,e,o[e]);for(let r=s.length,c=2;c<r;c++)exports.hydrateTree(e,t,n,s[c],c-2)}else if(o(s))for(let n of s)exports.hydrateTree(e,t,r,n,c),c++}),exports.createElement=((e,t,s,n)=>{const o=r.SVG_TAGS[t]?document.createElementNS(r.SVG_NS,t):document.createElement(t);return e&&(null==n?e.appendChild(o):e.insertBefore(o,e.children[n])),s&&exports.setAttribs(o,s),o}),exports.createTextElement=((e,t,r)=>{const s=document.createTextNode(t);return e&&(void 0===r?e.appendChild(s):e.insertBefore(s,e.children[r])),s}),exports.getChild=((e,t)=>e.children[t]),exports.replaceChild=((e,t,r,s,n)=>(t.removeChild(r,s),t.createTree(e,r,n,s))),exports.cloneWithNewAttribs=((e,t)=>{const r=e.cloneNode(!0);return exports.setAttribs(r,t),e.parentNode.replaceChild(r,e),r}),exports.setContent=((e,t)=>e.textContent=t),exports.setAttribs=((e,t)=>{for(let r in t)exports.setAttrib(e,r,t[r],t);return e}),exports.setAttrib=((e,t,r,s)=>{if(t.startsWith("__"))return;const n=0===t.indexOf("on");if(n||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":exports.setStyle(e,r);break;case"value":exports.updateValueAttrib(e,r);break;case"checked":e[t]=r;break;default:n?exports.setListener(e,t.substr(2),r):e.setAttribute(t,r)}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e}),exports.updateValueAttrib=((e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"email":case"url":case"tel":case"search":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-e.selectionStart);e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t}}),exports.removeAttribs=((e,t,r)=>{for(let s=t.length;--s>=0;){const n=t[s];0===n.indexOf("on")?exports.removeListener(e,n.substr(2),r[n]):e[n]?e[n]=null:e.removeAttribute(n)}}),exports.setStyle=((e,t)=>(e.setAttribute("style",s.css(t)),e)),exports.setListener=((e,t,r)=>{n(r)?e.addEventListener(t,...r):e.addEventListener(t,r)}),exports.removeListener=((e,t,r)=>{n(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r)}),exports.clearDOM=(e=>e.innerHTML=""),exports.removeChild=((e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)});
},{"@thi.ng/checks/is-array":"fm3I","@thi.ng/checks/is-not-string-iterable":"tpHU","@thi.ng/hiccup/api":"NMwu","@thi.ng/hiccup/css":"dl0A"}],"S78L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=Object.getPrototypeOf({});function e(e){let o;return"[object Object]"===Object.prototype.toString.call(e)&&(null===(o=Object.getPrototypeOf(e))||o===t)}exports.isPlainObject=e;
},{}],"/ETG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-array"),t=require("@thi.ng/checks/is-not-string-iterable"),i=require("@thi.ng/checks/is-plain-object"),r=require("@thi.ng/errors/illegal-arguments"),n=require("@thi.ng/hiccup/api"),l=e.isArray,o=t.isNotStringAndIterable,s=i.isPlainObject;exports.normalizeElement=((e,t)=>{let i,l,o,c,a=e[0],u=s(e[1]);return"string"==typeof a&&(i=n.TAG_REGEXP.exec(a))||r.illegalArgs(`${a} is not a valid tag name`),a!==i[1]||!u||t&&!e[1].key?(c=u?Object.assign({},e[1]):{},l=i[2],o=i[3],l&&(c.id=l),o&&(o=o.replace(/\./g," "),c.class?c.class+=" "+o:c.class=o),[i[1],c,...e.slice(u?2:1)]):e}),exports.normalizeTree=((e,t)=>c(t,e,e.ctx,[0],!1!==e.keys,!1!==e.span));const c=(e,t,i,r,s,a)=>{if(null!=e){if(l(e)){if(0===e.length)return;let u,f,g=e[1];if(g&&(f=g.__impl)&&(f=f.normalizeTree))return f(t,e);const p=e[0];if("function"==typeof p)return c(p.apply(null,[i,...e.slice(1)]),t,i,r,s,a);if("function"==typeof p.render){const n=[i,...e.slice(1)];return u=c(p.render.apply(p,n),t,i,r,s,a),l(u)&&(u.__this=p,u.__init=p.init,u.__release=p.release,u.__args=n),u}if(!1===(g=(u=exports.normalizeElement(e,s))[1]).__normalize)return u;if(s&&void 0===g.key&&(g.key=r.join("-")),u.length>2){const e=u[0],f=[e,g];a=a&&!n.NO_SPANS[e];for(let n=2,g=2,p=0,y=u.length;n<y;n++){let e=u[n];if(null!=e){const n=l(e);if(n&&l(e[0])||!n&&o(e))for(let l of e)void 0!==(l=c(l,t,i,r.concat(p),s,a))&&(f[g++]=l),p++;else void 0!==(e=c(e,t,i,r.concat(p),s,a))&&(f[g++]=e),p++}}return f}return u}return"function"==typeof e?c(e(i),t,i,r,s,a):"function"==typeof e.toHiccup?c(e.toHiccup(t.ctx),t,i,r,s,a):"function"==typeof e.deref?c(e.deref(),t,i,r,s,a):a?["span",s?{key:r.join("-")}:{},e.toString()]:e.toString()}};
},{"@thi.ng/checks/is-array":"fm3I","@thi.ng/checks/is-not-string-iterable":"tpHU","@thi.ng/checks/is-plain-object":"S78L","@thi.ng/errors/illegal-arguments":"TWhV","@thi.ng/hiccup/api":"NMwu"}],"Br2l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./diff"),t=require("./dom"),r=require("./normalize");exports.DEFAULT_IMPL={createTree(e,r,i,l){return t.createTree(e,this,r,i,l)},hydrateTree(e,r,i,l){return t.hydrateTree(e,this,r,i,l)},diffTree(t,r,i,l,n){e.diffTree(t,this,r,i,l,n)},normalizeTree:r.normalizeTree,getElementById:e=>document.getElementById(e),getChild:t.getChild,createElement:t.createElement,createTextElement:t.createTextElement,replaceChild(e,r,i,l){t.replaceChild(e,this,r,i,l)},removeChild:t.removeChild,setContent:t.setContent,removeAttribs:t.removeAttribs,setAttrib:t.setAttrib};
},{"./diff":"vOIZ","./dom":"DFnU","./normalize":"/ETG"}],"3rTe":[function(require,module,exports) {
"use strict";function e(e,t){return null!=e&&"function"==typeof e[t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.implementsFunction=e;
},{}],"3eaR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/implements-function");exports.derefContext=((t,n)=>{if(null==t||!n||!n.length)return t;const r=Object.assign({},t);for(let s of n){const t=r[s];e.implementsFunction(t,"deref")&&(r[s]=t.deref())}return r});
},{"@thi.ng/checks/implements-function":"3rTe"}],"dPPS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-string");exports.resolveRoot=((t,s)=>e.isString(t)?s.getElementById(t):t);
},{"@thi.ng/checks/is-string":"a3Af"}],"I16F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/hiccup/deref"),r=require("./default"),t=require("./utils");exports.renderOnce=((o,s={},c=r.DEFAULT_IMPL)=>{(s=Object.assign({root:"app"},s)).ctx=e.derefContext(s.ctx,s.autoDerefKeys);const i=t.resolveRoot(s.root,c);(o=c.normalizeTree(s,o))&&(s.hydrate?c.hydrateTree(s,i,o):c.createTree(s,i,o))});
},{"@thi.ng/hiccup/deref":"3eaR","./default":"Br2l","./utils":"dPPS"}],"l9VX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/hiccup/deref"),t=require("./default"),r=require("./utils");exports.start=((o,s={},i=t.DEFAULT_IMPL)=>{const n=Object.assign({root:"app"},s);let a=[],u=!0;const c=r.resolveRoot(n.root,i),d=()=>{if(u){n.ctx=e.derefContext(s.ctx,n.autoDerefKeys);const t=i.normalizeTree(n,o);null!=t&&(n.hydrate?(i.hydrateTree(n,c,t),n.hydrate=!1):i.diffTree(n,c,a,t),a=t),u&&requestAnimationFrame(d)}};return requestAnimationFrame(d),()=>u=!1});
},{"@thi.ng/hiccup/deref":"3eaR","./default":"Br2l","./utils":"dPPS"}],"RwEF":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./api")),e(require("./default")),e(require("./diff")),e(require("./dom")),e(require("./normalize")),e(require("./render-once")),e(require("./start"));
},{"./api":"GBwI","./default":"Br2l","./diff":"vOIZ","./dom":"DFnU","./normalize":"/ETG","./render-once":"I16F","./start":"l9VX"}],"ZO3u":[function(require,module,exports) {
"use strict";function e(e){return null!=e&&"function"==typeof e[Symbol.iterator]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIterable=e;
},{}],"wmkI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e){this.value=e}deref(){return this.value}}function r(r){return new e(r)}function t(r){return r instanceof e}function n(r){return r instanceof e?r:new e(r)}function u(r){return r instanceof e?r.deref():r}exports.Reduced=e,exports.reduced=r,exports.isReduced=t,exports.ensureReduced=n,exports.unreduced=u;
},{}],"Fd5S":[function(require,module,exports) {
"use strict";function e(e){return null!=e&&"function"!=typeof e&&void 0!==e.length}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrayLike=e;
},{}],"hay8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/implements-function"),r=require("@thi.ng/checks/is-arraylike"),t=require("@thi.ng/checks/is-iterable"),l=require("@thi.ng/errors/illegal-arity"),i=require("./reduced");function n(...t){let n,s;switch(t.length){case 3:s=t[2],n=t[1];break;case 2:s=t[1];break;default:l.illegalArity(t.length)}const u=t[0],o=u[0],f=u[1],h=u[2];if(n=null==n?o():n,e.implementsFunction(s,"$reduce"))n=s.$reduce(h,n);else if(r.isArrayLike(s)){for(let e=0,r=s.length;e<r;e++)if(n=h(n,s[e]),i.isReduced(n)){n=n.deref();break}}else for(let e of s)if(n=h(n,e),i.isReduced(n)){n=n.deref();break}return i.unreduced(f(n))}function s(e,r){return[e,e=>e,r]}exports.reduce=n,exports.reducer=s,exports.$$reduce=((e,r)=>{const l=r.length-1;return t.isIterable(r[l])?r.length>1?n(e.apply(null,r.slice(0,l)),r[l]):n(e(),r[0]):void 0});
},{"@thi.ng/checks/implements-function":"3rTe","@thi.ng/checks/is-arraylike":"Fd5S","@thi.ng/checks/is-iterable":"ZO3u","@thi.ng/errors/illegal-arity":"HmRg","./reduced":"wmkI"}],"xJML":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(r){return r?[...r]:e.reducer(()=>[],(e,r)=>(e.push(r),e))}exports.push=r;
},{"../reduce":"hay8"}],"7F+s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/api/api"),r=require("@thi.ng/checks/is-iterable"),t=require("./reduced"),i=require("./rfn/push");function*u(e,r){const u=e(i.push()),n=u[1],d=u[2];for(let i of r){const e=d([],i);if(t.isReduced(e))return void(yield*t.unreduced(n(e.deref())));e.length&&(yield*e)}yield*t.unreduced(n([]))}function*n(r,i){const u=r([null,null,(e,r)=>r])[2];for(let n of i){let r=u(e.SEMAPHORE,n);if(t.isReduced(r))return void((r=t.unreduced(r.deref()))!==e.SEMAPHORE&&(yield r));r!==e.SEMAPHORE&&(yield r)}}exports.iterator=u,exports.iterator1=n,exports.$iter=((e,t,i=n)=>{const u=t.length-1;return r.isIterable(t[u])?t.length>1?i(e.apply(null,t.slice(0,u)),t[u]):i(e(),t[0]):void 0});
},{"@thi.ng/api/api":"U5ac","@thi.ng/checks/is-iterable":"ZO3u","./reduced":"wmkI","./rfn/push":"xJML"}],"ZoN0":[function(require,module,exports) {
"use strict";function e(e,t){return[e[0],e[1],t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compR=e;
},{}],"fBkP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(o,u){return u?r.iterator1(t(o),u):r=>{const t=r[2];return e.compR(r,(e,r)=>t(e,o(r)))}}exports.map=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"1O6O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arity"),r=require("./reduce"),t=require("./xform/map");function a(...u){let i,l;switch(u.length){case 4:l=u[3],i=u[2];break;case 3:l=u[2];break;case 2:return t.map(e=>a(u[0],u[1],e));default:e.illegalArity(u.length)}return r.reduce(u[0](u[1]),i,l)}exports.transduce=a;
},{"@thi.ng/errors/illegal-arity":"HmRg","./reduce":"hay8","./xform/map":"fBkP"}],"6TrO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./transduce"),t=()=>{};function r(r,...s){if(1===s.length)e.transduce(r,[t,t,t],s[0]);else{const u=s[0];e.transduce(r,[t,t,(e,t)=>u(t)],s[1])}}exports.run=r;
},{"./transduce":"1O6O"}],"KHPz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./reduced"),r=require("./rfn/push");function t(t){const[u,s,n]=t(r.push());let d=!1;return r=>{if(!d){let t=n([],r);return(d=e.isReduced(t))&&(t=s(t.deref())),1===t.length?t[0]:t.length>0?t:void 0}}}exports.step=t;
},{"./reduced":"wmkI","./rfn/push":"xJML"}],"DNzN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(...t){const u=e.$$reduce(r,t);if(void 0!==u)return u;const c=t[0]||0;return e.reducer(()=>c,(e,r)=>e+r)}exports.add=r;
},{"../reduce":"hay8"}],"1e0U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t){return t?e.reduce(r(),t):e.reducer(()=>new Map,(e,[r,t])=>e.set(r,t))}exports.assocMap=r;
},{"../reduce":"hay8"}],"TDT0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t){return t?e.reduce(r(),t):e.reducer(()=>new Object,(e,[r,t])=>(e[r]=t,e))}exports.assocObj=r;
},{"../reduce":"hay8"}],"JlsD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t){return t?e.reduce(r(),t):e.reducer(()=>new Set,(e,r)=>e.add(r))}exports.conj=r;
},{"../reduce":"hay8"}],"n9G6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(...t){const u=e.$$reduce(r,t);if(void 0!==u)return u;let c=t[0]||0,o=t[1]||1;return e.reducer(()=>c,(e,r)=>e+o)}exports.count=r;
},{"../reduce":"hay8"}],"plMW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t,u){return u?e.reduce(r(t),u):e.reducer(()=>t,(e,r)=>e/r)}exports.div=r;
},{"../reduce":"hay8"}],"eUq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce"),r=require("../reduced");function u(...c){const d=e.$$reduce(u,c);if(void 0!==d)return d;const t=c[0];return e.reducer(()=>!0,t?(e,u)=>t(u)?e:r.reduced(!1):(e,u)=>u?e:r.reduced(!1))}exports.every=u;
},{"../reduce":"hay8","../reduced":"wmkI"}],"kAV5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(...t){const u=e.$$reduce(r,t);if(void 0!==u)return u;let n=t[0]||0;return e.reducer(()=>[],(e,r)=>(e[n++]=r,e))}function t(...e){return r(...e)}exports.fill=r,exports.fillN=t;
},{"../reduce":"hay8"}],"NCzZ":[function(require,module,exports) {
"use strict";function e(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=e;
},{}],"/u4d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/identity"),r=require("../reduce"),t=require("./push");function u(...n){const s=r.$$reduce(u,n);if(void 0!==s)return s;const i=Object.assign({key:e.identity,group:t.push()},n[0]),[o,c,p]=i.group;return r.reducer(()=>new Map,(e,r)=>{const t=i.key(r);return e.set(t,e.has(t)?p(e.get(t),r):p(o(),r))})}exports.groupByMap=u;
},{"../func/identity":"NCzZ","../reduce":"hay8","./push":"xJML"}],"Ik92":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/identity"),r=require("../reduce"),u=require("./count"),t=require("./group-by-map");function i(...n){return r.$$reduce(i,n)||t.groupByMap({key:n[0]||e.identity,group:u.count()})}exports.frequencies=i;
},{"../func/identity":"NCzZ","../reduce":"hay8","./count":"n9G6","./group-by-map":"/u4d"}],"KupN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/identity"),r=require("../reduce"),t=require("./push");function u(...n){const s=r.$$reduce(u,n);if(s)return s;const c=Object.assign({key:e.identity,group:t.push()},n[0]),[i,o,p]=c.group;return r.reducer(()=>({}),(e,r)=>{const t=c.key(r);return e[t]=e[t]?p(e[t],r):p(i(),r),e})}exports.groupByObj=u;
},{"../func/identity":"NCzZ","../reduce":"hay8","./push":"xJML"}],"zZIj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const r=require("./group-by-obj"),e=require("./push");function u(r,e,u,o){return t=>r(t)&e?o:u}function o(o,t,p,n,s="l",i="r"){const y=p||(()=>({}));let c=r.groupByObj({key:u(t,1,s,i),group:n||e.push()});for(let e=2,g=1<<o;e<g;e<<=1)c=r.groupByObj({key:u(t,e,s,i),group:[y,c[1],c[2]]});return[y,c[1],c[2]]}exports.groupBinary=o;
},{"./group-by-obj":"KupN","./push":"xJML"}],"p/fJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t){return t?e.reduce(r(),t):e.reducer(()=>void 0,(e,r)=>r)}exports.last=r;
},{"../reduce":"hay8"}],"kN+r":[function(require,module,exports) {
"use strict";function e(e,o){return e===o?0:null==e?null==o?0:-1:null==o?null==e?0:1:"function"==typeof e.compare?e.compare(o):"function"==typeof o.compare?-o.compare(e):e<o?-1:e>o?1:0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compare=e;
},{}],"eOls":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const c=r.$$reduce(t,o);if(void 0!==c)return c;const u=o[0],n=o[1]||e.compare;return r.reducer(u,(e,r)=>n(e,r)>=0?e:r)}exports.maxCompare=t;
},{"@thi.ng/compare":"kN+r","../reduce":"hay8"}],"LAGn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t){return t?e.reduce(r(),t):e.reducer(()=>-1/0,(e,r)=>Math.max(e,r))}exports.max=r;
},{"../reduce":"hay8"}],"R84Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t){let u=0;return t?e.reduce(r(),t):[()=>0,e=>e/u,(e,r)=>(u++,e+r)]}exports.mean=r;
},{"../reduce":"hay8"}],"9OrD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/compare"),r=require("../reduce");function t(...o){const c=r.$$reduce(t,o);if(void 0!==c)return c;const u=o[0],n=o[1]||e.compare;return r.reducer(u,(e,r)=>n(e,r)<=0?e:r)}exports.minCompare=t;
},{"@thi.ng/compare":"kN+r","../reduce":"hay8"}],"aZ1b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(t){return t?e.reduce(r(),t):e.reducer(()=>1/0,(e,r)=>Math.min(e,r))}exports.min=r;
},{"../reduce":"hay8"}],"4cwh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(...t){const u=e.$$reduce(r,t);if(void 0!==u)return u;const c=t[0]||1;return e.reducer(()=>c,(e,r)=>e*r)}exports.mul=r;
},{"../reduce":"hay8"}],"nd4j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(){return e.reducer(()=>[],(e,r)=>((e=e.slice()).push(r),e))}exports.pushCopy=r;
},{"../reduce":"hay8"}],"vhuO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce"),r=require("../reduced");function t(u,c){const[d,n,s]=u;return c?e.reduce(t(u),c):[()=>[d()],e=>(e[e.length-1]=n(e[e.length-1]),e),(e,t)=>{const u=s(e[e.length-1],t);return r.isReduced(u)?(e.push(u.deref()),r.reduced(e)):(e.push(u),e)}]}exports.reductions=t;
},{"../reduce":"hay8","../reduced":"wmkI"}],"BWxf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce"),r=require("../reduced");function u(...c){const d=e.$$reduce(u,c);if(void 0!==d)return d;const t=c[0];return e.reducer(()=>!1,t?(e,u)=>t(u)?r.reduced(!0):e:(e,u)=>u?r.reduced(!0):e)}exports.some=u;
},{"../reduce":"hay8","../reduced":"wmkI"}],"OHsj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(r,t){r=r||"";let u=!0;return t?[...t].join(r):e.reducer(()=>"",(e,t)=>(e=u?e+t:e+r+t,u=!1,e))}exports.str=r;
},{"../reduce":"hay8"}],"/bWa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduce");function r(...t){const u=e.$$reduce(r,t);if(void 0!==u)return u;const c=t[0]||0;return e.reducer(()=>c,(e,r)=>e-r)}exports.sub=r;
},{"../reduce":"hay8"}],"G//y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=s.substr(0,62)+"-_";function u(c){return c?r.iterator1(u(),c):r=>{const c=r[2];let u=0,n=0;return e.compR(r,(e,r)=>{switch(r){case"-":r="+";break;case"_":r="/";break;case"=":return t.reduced(e)}let a=s.indexOf(r);return n=3&u?(n<<6)+a:a,3&u++&&(e=c(e,255&n>>(-2*u&6))),e})}}function n(...e){const u=r.$iter(n,e,r.iterator);return u?[...u].join(""):([r,u,n])=>{let a,i=0;const o=Object.assign({safe:!1,buffer:1024},e[0]),f=o.safe?c:s,d=[];return[r,e=>{switch(i){case 1:d.push(f[a>>18&63],f[a>>12&63],"=","=");break;case 2:d.push(f[a>>18&63],f[a>>12&63],f[a>>6&63],"=")}for(;d.length&&!t.isReduced(e);)e=n(e,d.shift());return u(e)},(e,r)=>{switch(i){case 0:i=1,a=r<<16;break;case 1:i=2,a+=r<<8;break;default:if(i=0,a+=r,d.push(f[a>>18&63],f[a>>12&63],f[a>>6&63],f[63&a]),d.length>=o.buffer){for(let r=0,s=d.length;r<s&&!t.isReduced(e);r++)e=n(e,d[r]);d.length=0}}return e}]}}exports.base64Decode=u,exports.base64Encode=n;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"6TeG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(o){return o?r.iterator1(t(),o):r=>{const t=r[2];let o=Date.now();return e.compR(r,(e,r)=>{const n=Date.now(),c=n-o;return o=n,t(e,c)})}}exports.benchmark=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"imor":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(...o){return r.$iter(u,o,r.iterator)||(r=>{const u=r[2],i=(o[0]||8)-1,c=!1!==o[1];return e.compR(r,c?(e,r)=>{for(let o=i;o>=0&&!t.isReduced(e);o--)e=u(e,r>>>o&1);return e}:(e,r)=>{for(let o=0;o<=i&&!t.isReduced(e);o++)e=u(e,r>>>o&1);return e})})}exports.bits=u;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"XFQx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../reduced");function t(){return t=>{const u=t[2];return e.compR(t,(e,t)=>{if(t)for(let c of t)if(e=u(e,c),r.isReduced(e))break;return e})}}exports.cat=t;
},{"../func/compr":"ZoN0","../reduced":"wmkI"}],"ndcf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../reduced");function e(t,e,o){return new s(t,e,o)}exports.range=e;class s{constructor(t,e,s){void 0===t?(t=0,e=1/0):void 0===e&&(e=t,t=0),s=void 0===s?t<e?1:-1:s,this.from=t,this.to=e,this.step=s}*[Symbol.iterator](){const t=this.step,e=this.to;let s=this.from;if(t>0)for(;s<e;)yield s,s+=t;else if(t<0)for(;s>e;)yield s,s+=t}$reduce(e,s){const o=this.step;if(o>0)for(let i=this.from,r=this.to;i<r&&!t.isReduced(s);i+=o)s=e(s,i);else for(let i=this.from,r=this.to;i>r&&!t.isReduced(s);i+=o)s=e(s,i);return s}}exports.Range=s;
},{"../reduced":"wmkI"}],"xkJV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arity"),r=require("./range");function*t(...t){let l,a,i,n,o,s;switch(t.length){case 6:o=t[4],s=t[5];case 4:[l,a,i,n]=t;break;case 2:[a,n]=t,l=i=0;break;default:e.illegalArity(t.length)}const c=r.range(l,a,o);for(let e of r.range(i,n,s))for(let r of c)yield[r,e]}exports.range2d=t;
},{"@thi.ng/errors/illegal-arity":"HmRg","./range":"ndcf"}],"dkwB":[function(require,module,exports) {
"use strict";function*e(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=[];for(let o of t){let t=o.next();if(t.done)return;e.push(t.value)}yield e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.tuples=e;
},{}],"eq8Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arguments"),r=require("../iter/range2d"),t=require("../iter/tuples"),i=require("../iterator"),n=require("../rfn/add"),u=require("../transduce"),s=require("./map");exports.buildKernel2d=((e,i,n)=>{const u=i>>1,s=n>>1;return[...t.tuples(e,r.range2d(-u,u+1,-s,s+1))]});const o=(e,r,t,i,n,u,s)=>u?([u,[s,o]])=>{return u*e[(t<-o?n+o:t>=n-o?o-1:t+o)*i+(r<-s?i+s:r>=i-s?s-1:r+s)]}:([u,[o,d]])=>r<-o||t<-d||r>=i-o||t>=n-d?s:u*e[(t+d)*i+r+o];function d(r,t){if(t)return i.iterator1(d(r),t);const{src:l,width:a,height:g}=r,c=!1!==r.wrap,h=r.border||0;let p=r.kernel;return p||(r.weights&&r.kwidth&&r.kheight||e.illegalArgs("no kernel or kernel config"),p=exports.buildKernel2d(r.weights,r.kwidth,r.kheight)),s.map(e=>u.transduce(s.map(o(l,e[0],e[1],a,g,c,h)),n.add(),p))}exports.convolve2d=d;
},{"@thi.ng/errors/illegal-arguments":"TWhV","../iter/range2d":"xkJV","../iter/tuples":"dkwB","../iterator":"7F+s","../rfn/add":"DNzN","../transduce":"1O6O","./map":"fBkP"}],"4tm7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/api/api"),r=require("../func/compr"),t=require("../iterator");function i(...u){return t.$iter(i,u)||(t=>{const i=t[2],o=u[0];let n=e.SEMAPHORE;return r.compR(t,o?(e,r)=>(e=o(n,r)?e:i(e,r),n=r,e):(e,r)=>(e=n===r?e:i(e,r),n=r,e))})}exports.dedupe=i;
},{"@thi.ng/api/api":"U5ac","../func/compr":"ZoN0","../iterator":"7F+s"}],"iNqr":[function(require,module,exports) {
"use strict";function e(e,t){return new Promise(r=>setTimeout(()=>r(e),t))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.delay=e;
},{}],"pCRw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/delay"),r=require("./map");function t(t){return r.map(r=>e.delay(r,t))}exports.delayed=t;
},{"../func/delay":"iNqr","./map":"fBkP"}],"bj39":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(...c){return r.$iter(t,c)||(r=>{const t=r[2],n=c[0]||{},o=n.key,s=(n.cache||(()=>new Set))();return e.compR(r,o?(e,r)=>{const c=o(r);return s.has(c)?e:(s.add(c),t(e,r))}:(e,r)=>s.has(r)?e:(s.add(r),t(e,r)))})}exports.distinct=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"dKhC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(o,u){return u?r.iterator1(t(o),u):r=>{const t=r[2],u=o();return e.compR(r,(e,r)=>u(r)?t(e,r):e)}}exports.throttle=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"ao7H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("./throttle"),e=require("../iterator");function r(o,u){return u?e.iterator1(r(o),u):(o=Math.max(0,o-1),t.throttle(()=>{let t=o;return()=>t-- >0||(t=o,!1)}))}exports.dropNth=r;
},{"./throttle":"dKhC","../iterator":"7F+s"}],"hQVd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(...o){return r.$iter(t,o)||(r=>{const t=r[2],u=o[0];let c=!0;return e.compR(r,(e,r)=>(c=c&&u(r))?e:t(e,r))})}exports.dropWhile=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"ouQu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(o,u){return u?r.iterator1(t(o),u):r=>{const t=r[2];let u=o;return e.compR(r,(e,r)=>u>0?(u--,e):t(e,r))}}exports.drop=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"6KyN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(o=1,c){return c?r.iterator(u(o),c):r=>{const u=r[2];return e.compR(r,(e,r)=>{for(let c=o;c>=0&&!t.isReduced(e);c--)e=u(e,r);return e})}}exports.duplicate=u;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"Srlq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),r=require("../func/compr");function t(o,u){return u?e.iterator1(t(o),u):e=>{const t=e[2];return r.compR(e,(e,r)=>o(r)?t(e,r):e)}}exports.filter=t;
},{"../iterator":"7F+s","../func/compr":"ZoN0"}],"7bTB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/equiv");function t(t,r,n=e.equiv){const u=t.length,i=r.length;if(i>u)return!1;if(i===u)return n(r,t);e:for(let e=0,o=0;e<i;e++){const i=r[e];for(;o<u;)if(n(t[o++],i))continue e;return!1}return!0}exports.fuzzyMatch=t;
},{"@thi.ng/equiv":"zlnS"}],"6pnu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/fuzzy-match"),r=require("../iterator"),t=require("./filter");function u(...i){const n=i.length>1&&r.$iter(u,i);if(n)return n;const c=i[0],{key:f,equiv:o}=i[1]||{};return t.filter(r=>e.fuzzyMatch(null!=f?f(r):r,c,o))}exports.filterFuzzy=u;
},{"../func/fuzzy-match":"7bTB","../iterator":"7F+s","./filter":"Srlq"}],"jOUa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function o(u,i){return i?r.iterator(o(u),i):r=>{const o=r[2],i=(e,r)=>{const n=u(r);if(n){for(let r of n)if(e=i(e,r),t.isReduced(e))break;return e}return o(e,r)};return e.compR(r,i)}}exports.flattenWith=o;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"7K47":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("./flatten-with");function e(e){return t.flattenWith(t=>null!=t&&t[Symbol.iterator]&&"string"!=typeof t?t:void 0,e)}exports.flatten=e;
},{"./flatten-with":"jOUa"}],"0SPy":[function(require,module,exports) {
"use strict";function e(e,t){return!t&&(t={}),(...n)=>{const r=JSON.stringify(n);return void 0!==r?r in t?t[r]:t[r]=e.apply(null,n):e.apply(null,n)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.memoizeJ=e;
},{}],"1vFk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/memoize/memoizej");exports.repeat=e.memoizeJ((e,t)=>e.repeat(t));
},{"@thi.ng/memoize/memoizej":"0SPy"}],"mA3D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/memoize/memoizej"),r=require("./repeat");exports.radix=e.memoizeJ((e,t,o="")=>{const s=r.repeat("0",t);return r=>(r=(r>>>0).toString(e),o+(r.length<t?s.substr(r.length)+r:r))}),exports.B8=exports.radix(2,8),exports.U8=exports.radix(16,2),exports.U16=exports.radix(16,4),exports.U24=exports.radix(16,6),exports.U32=exports.radix(16,8),exports.U64=((e,r)=>exports.U32(e)+exports.U32(r));
},{"@thi.ng/memoize/memoizej":"0SPy","./repeat":"1vFk"}],"aB8a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arity");function r(...r){let[s,n,c,u,a,l,i,o,p,g]=r;switch(r.length){case 0:e.illegalArity(0);case 1:return s;case 2:return(...e)=>s(n(...e));case 3:return(...e)=>s(n(c(...e)));case 4:return(...e)=>s(n(c(u(...e))));case 5:return(...e)=>s(n(c(u(a(...e)))));case 6:return(...e)=>s(n(c(u(a(l(...e))))));case 7:return(...e)=>s(n(c(u(a(l(i(...e)))))));case 8:return(...e)=>s(n(c(u(a(l(i(o(...e))))))));case 9:return(...e)=>s(n(c(u(a(l(i(o(p(...e)))))))));case 10:default:const f=(...e)=>s(n(c(u(a(l(i(o(p(g(...e))))))))));return 10===r.length?f:t(f,...r.slice(10))}}function t(...e){return r.apply(null,e.reverse())}exports.comp=r,exports.compI=t;
},{"@thi.ng/errors/illegal-arity":"HmRg"}],"10ZH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/compose/comp");function o(...o){return e.comp.apply(null,o)}exports.comp=o;
},{"@thi.ng/compose/comp":"aB8a"}],"ShiN":[function(require,module,exports) {
"use strict";function e(...e){const[r,t,n,u,s,c,a,l]=e;switch(e.length){case 1:return e=>[r(e)];case 2:return e=>[r(e),t(e)];case 3:return e=>[r(e),t(e),n(e)];case 4:return e=>[r(e),t(e),n(e),u(e)];case 5:return e=>[r(e),t(e),n(e),u(e),s(e)];case 6:return e=>[r(e),t(e),n(e),u(e),s(e),c(e)];case 7:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e)];case 8:return e=>[r(e),t(e),n(e),u(e),s(e),c(e),a(e),l(e)];default:return r=>{let t=new Array(e.length);for(let n=e.length-1;n>=0;n--)t[n]=e[n](r);return t}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.juxt=e;
},{}],"nTwB":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("@thi.ng/compose/juxt"));
},{"@thi.ng/compose/juxt":"ShiN"}],"MQMZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(...o){return r.$iter(t,o)||(r=>{const t=r[2],n=o[0];let u=o[1]||0;return e.compR(r,(e,r)=>t(e,n(u++,r)))})}exports.mapIndexed=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"YNK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),r=require("../reduced");function t(u,i,o){return o?e.iterator(t(u,i),o):([e,t,o])=>{let s=0;return[e,e=>{let d=s%u;if(d>0)for(;++d<=u&&!r.isReduced(e);)e=o(e,i);return t(e)},(e,r)=>(s++,o(e,r))]}}exports.padLast=t;
},{"../iterator":"7F+s","../reduced":"wmkI"}],"WCS9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator");function t(...r){const n=e.$iter(t,r,e.iterator);if(n)return n;let i,o,u=r[0];return"number"==typeof r[1]?(o=r[1],i=r[2]):(o=u,i=r[1]),([e,t,r])=>{let n=[],s=0;return[e,e=>(i&&n.length>0&&(e=r(e,n),n=[]),t(e)),(e,t)=>(s<=0?(n.length<u&&n.push(t),n.length===u&&(e=r(e,n),n=o<u?n.slice(o):[],s=o-u)):s--,e)]}}exports.partition=t;
},{"../iterator":"7F+s"}],"7tfA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/strings/radix"),r=require("../func/comp"),t=require("../func/juxt"),i=require("../iterator"),a=require("./map"),n=require("./map-indexed"),s=require("./pad-last"),u=require("./partition");function o(...p){const d=i.$iter(o,p);if(d)return d;const{cols:c,address:m}=Object.assign({cols:16,address:0},p[0]);return r.comp(s.padLast(c,0),a.map(t.juxt(e.U8,e=>e>31&&e<128?String.fromCharCode(e):".")),u.partition(c,!0),a.map(t.juxt(e=>e.map(e=>e[0]).join(" "),e=>e.map(e=>e[1]).join(""))),n.mapIndexed((r,[t,i])=>`${e.U32(m+r*c)} | ${t} | ${i}`))}exports.hexDump=o;
},{"@thi.ng/strings/radix":"mA3D","../func/comp":"10ZH","../func/juxt":"nTwB","../iterator":"7F+s","./map":"fBkP","./map-indexed":"MQMZ","./pad-last":"YNK6","./partition":"WCS9"}],"Vl3R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),r=require("./map-indexed");function t(...n){const i=e.$iter(t,n);if(i)return i;const o=n[0]||0;return r.mapIndexed((e,r)=>[o+e,r])}exports.indexed=t;
},{"../iterator":"7F+s","./map-indexed":"MQMZ"}],"m3sl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function o(u,c){return c?r.iterator(o(u),c):r=>{const o=r[2],c="function"==typeof u?u:()=>u;return e.compR(r,(e,r)=>(e=o(e,c()),t.isReduced(e)?e:o(e,r)))}}exports.interleave=o;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"i6D1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function o(u,c){return c?r.iterator(o(u),c):r=>{const o=r[2],c="function"==typeof u?u:()=>u;let i=!0;return e.compR(r,(e,r)=>i?(i=!1,o(e,r)):(e=o(e,c()),t.isReduced(e)?e:o(e,r)))}}exports.interpose=o;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"iXIn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../func/identity"),t=require("../iterator");function i(...n){return t.$iter(i,n)||(t=>{const i=t[2],u=n[0]||r.identity;return e.compR(t,(e,r)=>null!=u(r)?i(e,r):e)})}exports.keep=i;
},{"../func/compr":"ZoN0","../func/identity":"NCzZ","../iterator":"7F+s"}],"UcmY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-function"),r=require("../iterator"),t=require("./map");function i(n,o){return o?r.iterator1(i(n),o):t.map(e.isFunction(n)?e=>[n(e),e]:e=>[n,e])}exports.labeled=i;
},{"@thi.ng/checks/is-function":"biGe","../iterator":"7F+s","./map":"fBkP"}],"uSZO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-function");function t(n){if(e.isFunction(n))return n;const r=Object.keys(n[1]||{}).reduce((e,r)=>(e[r]=t(n[1][r]),e),{});return e=>{const t=Object.assign({},e);for(let n in r)t[n]=r[n](t[n]);return n[0](t)}}exports.deepTransform=t;
},{"@thi.ng/checks/is-function":"biGe"}],"rHLo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/deep-transform"),r=require("../iterator"),t=require("./map");function o(p,u){return u?r.iterator1(o(p),u):t.map(e.deepTransform(p))}exports.mapDeep=o;
},{"../func/deep-transform":"uSZO","../iterator":"7F+s","./map":"fBkP"}],"omGR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),r=require("./map");function t(...n){const s=e.$iter(t,n);if(s)return s;const o=n[0],i=!1!==n[1];return r.map(e=>{const r=i?Object.assign({},e):e;for(let t in o)r[t]=o[t](e[t]);return r})}exports.mapKeys=t;
},{"../iterator":"7F+s","./map":"fBkP"}],"29O4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(...u){const o=r.$iter(t,u);if(o)return o;let n,c,f=u[0]-1;return"number"==typeof u[1]?(n=u[1],c=u[2]):(c=u[1],n=0),r=>{const t=r[2];let u=0,o=n;return e.compR(r,(e,r)=>{if(0===o){if(0===u)return u=f,t(e,c(r));u--}else o--;return t(e,r)})}}exports.mapNth=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"Hddo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),r=require("./map");function t(...n){const o=e.$iter(t,n);if(o)return o;const s=n[0],i=!1!==n[1];return r.map(e=>{const r=i?{}:e;for(let t in e)r[t]=s(e[t]);return r})}exports.mapVals=t;
},{"../iterator":"7F+s","./map":"fBkP"}],"gEP1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/comp"),r=require("../iterator"),t=require("./cat"),c=require("./map");function o(u,a){return a?r.iterator(o(u),a):e.comp(c.map(u),t.cat())}exports.mapcat=o;
},{"../func/comp":"10ZH","../iterator":"7F+s","./cat":"XFQx","./map":"fBkP"}],"ZLdz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(c,o){return o?r.iterator(u(c),o):r=>{const u=r[2];let o=c;return e.compR(r,(e,r)=>--o>0?u(e,r):0===o?t.ensureReduced(u(e,r)):t.reduced(e))}}exports.take=u;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"GO3g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/comp"),r=require("../iterator"),t=require("./filter"),i=require("./take");function o(u,c){return c?[...r.iterator1(o(u),c)][0]:e.comp(t.filter(u),i.take(1))}exports.matchFirst=o;
},{"../func/comp":"10ZH","../iterator":"7F+s","./filter":"Srlq","./take":"ZLdz"}],"eHWT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),t=require("../reduced");function r(s,u){return u?e.iterator(r(s),u):([e,r,u])=>{const i=[];return[e,e=>{for(;i.length&&!t.isReduced(e);)e=u(e,i.shift());return r(e)},(e,t)=>(i.length===s&&i.shift(),i.push(t),e)]}}exports.takeLast=r;
},{"../iterator":"7F+s","../reduced":"wmkI"}],"MGxr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/comp"),r=require("../iterator"),t=require("./filter"),i=require("./take-last");function o(u,a){return a?[...r.iterator(o(u),a)][0]:e.comp(t.filter(u),i.takeLast(1))}exports.matchLast=o;
},{"../func/comp":"10ZH","../iterator":"7F+s","./filter":"Srlq","./take-last":"eHWT"}],"cIjO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arguments"),r=require("../func/compr"),t=require("../iterator");function o(i,s){return s?t.iterator1(o(i),s):t=>{(i|=0)<2&&e.illegalArgs("period must be >= 2");const o=t[2],s=[];let u=0;return r.compR(t,(e,r)=>{const t=s.push(r);return u+=r,t>i&&(u-=s.shift()),t>=i?o(e,u/i):e})}}exports.movingAverage=o;
},{"@thi.ng/errors/illegal-arguments":"TWhV","../func/compr":"ZoN0","../iterator":"7F+s"}],"6mxu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/compare"),r=require("../func/comp"),t=require("../func/identity"),i=require("../iterator"),o=require("./map"),n=require("./partition");function c(...u){const p=i.$iter(c,u);if(p)return p;const{key:a,compare:s}=Object.assign({key:t.identity,compare:e.compare},u[1]),m=u[0],q=m>>1;return r.comp(n.partition(m,1,!0),o.map(e=>e.slice().sort((e,r)=>s(a(e),a(r)))[q]))}exports.movingMedian=c;
},{"@thi.ng/compare":"kN+r","../func/comp":"10ZH","../func/identity":"NCzZ","../iterator":"7F+s","./map":"fBkP","./partition":"WCS9"}],"4qDG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/juxt"),t=require("../step"),r=require("./map");function u(...u){return r.map(e.juxt.apply(null,u.map(t.step)))}exports.multiplex=u;
},{"../func/juxt":"nTwB","../step":"KHPz","./map":"fBkP"}],"wip7":[function(require,module,exports) {
"use strict";function e(e){const t=Object.keys(e),[r,n,o]=t,[s,c,u]=t.map(t=>e[t]);switch(t.length){case 3:return e=>{const t={};let i;return void 0!==(i=e[u])&&(t[o]=i),void 0!==(i=e[c])&&(t[n]=i),void 0!==(i=e[s])&&(t[r]=i),t};case 2:return e=>{const t={};let o;return void 0!==(o=e[c])&&(t[n]=o),void 0!==(o=e[s])&&(t[r]=o),t};case 1:return e=>{const t={};let n=e[s];return void 0!==n&&(t[r]=n),t};default:return r=>{let n,o;const s={};for(let c=t.length-1;c>=0;c--)n=t[c],void 0!==(o=r[e[n]])&&(s[n]=o);return s}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.renamer=e;
},{}],"oWVg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-array"),r=require("../func/comp"),t=require("../func/renamer"),i=require("../iterator"),u=require("../transduce"),n=require("./filter"),c=require("./map");function a(...s){const o=s.length>2&&i.$iter(a,s);if(o)return o;let m=s[0];if(e.isArray(m)&&(m=m.reduce((e,r,t)=>(e[r]=t,e),{})),s[1]){const e=Object.keys(m);return c.map(t=>u.transduce(r.comp(c.map(e=>[e,t[m[e]]]),n.filter(e=>void 0!==e[1])),s[1],e))}return c.map(t.renamer(m))}exports.rename=a;
},{"@thi.ng/checks/is-array":"fm3I","../func/comp":"10ZH","../func/renamer":"wip7","../iterator":"7F+s","../transduce":"1O6O","./filter":"Srlq","./map":"fBkP"}],"wUYq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/comp"),r=require("../iterator"),t=require("./multiplex"),u=require("./rename");function i(...n){const l=r.$iter(i,n);if(l)return l;const[o,p]=n,c=Object.keys(o);return e.comp(t.multiplex.apply(null,c.map(e=>o[e])),u.rename(c,p))}exports.multiplexObj=i;
},{"../func/comp":"10ZH","../iterator":"7F+s","./multiplex":"4qDG","./rename":"oWVg"}],"1SgZ":[function(require,module,exports) {
"use strict";function e(){return e=>e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=e;
},{}],"jwxl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/comp"),r=require("../iterator"),t=require("./drop"),o=require("./take");function u(...i){return r.$iter(u,i)||e.comp(t.drop(i[0]*(i[1]||10)),o.take(i[1]||10))}exports.page=u;
},{"../func/comp":"10ZH","../iterator":"7F+s","./drop":"ouQu","./take":"ZLdz"}],"jBYR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../iterator"),e=require("../reduced");function r(...e){return t.$iter(r,e,t.iterator)||(t=>{const r=e[0],u=e[1]||8;return r<u?s(t,r,u):r>u?n(t,r,u):t})}exports.partitionBits=r;const s=([t,r,s],n,u)=>{const o=u-n,i=(1<<u)-1,l=(1<<n)-1;let p=0,f=0;return[t,t=>r(p>0?s(t,f):t),(t,r)=>{let q=0;do{t=s(t,f+(r>>>o+p&l)),q+=n-p,r=r<<n-p&i,f=0,p=0}while(q<=o&&!e.isReduced(t));return f=(p=u-q)>0?r>>>o&l:0,t}]},n=([t,e,r],s,n)=>{const u=(1<<n)-1;let o=0,i=0;return[t,t=>e(o>0?r(t,i):t),(t,e)=>{if(o+n<=s)i|=(e&u)<<s-n-o,(o+=n)===s&&(t=r(t,i),i=0,o=0);else{const u=s-o;t=r(t,i|e>>>(o=n-u)&(1<<u)-1),i=(e&(1<<o)-1)<<s-o}return t}]};
},{"../iterator":"7F+s","../reduced":"wmkI"}],"GWyt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/api/api"),r=require("../iterator"),t=require("../reduced");function i(...u){return r.$iter(i,u,r.iterator)||(([r,i,n])=>{const o=u[0],s=!0===u[1]?o():o;let c,l=e.SEMAPHORE;return[r,e=>(c&&c.length&&(e=n(e,c),c=null),i(e)),(r,i)=>{const u=s(i);return l===e.SEMAPHORE?(l=u,c=[i]):u===l?c.push(i):(c&&(r=n(r,c)),c=t.isReduced(r)?null:[i],l=u),r}]})}exports.partitionBy=i;
},{"@thi.ng/api/api":"U5ac","../iterator":"7F+s","../reduced":"wmkI"}],"uJgc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../iterator"),e=require("./partition-by");function r(i,o){return o?t.iterator(r(i),o):e.partitionBy(()=>{let t=0,e=0;return()=>(t++===i[e]&&(t=1,e=(e+1)%i.length),e)},!0)}exports.partitionOf=r;
},{"../iterator":"7F+s","./partition-by":"GWyt"}],"t8Nq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/compare"),r=require("../func/comp"),t=require("../func/identity"),i=require("../iterator"),o=require("./mapcat"),c=require("./partition");function n(...a){const p=i.$iter(n,a,i.iterator);if(p)return p;const{key:u,compare:s}=Object.assign({key:t.identity,compare:e.compare},a[1]);return r.comp(c.partition(a[0],!0),o.mapcat(e=>e.slice().sort((e,r)=>s(u(e),u(r)))))}exports.partitionSort=n;
},{"@thi.ng/compare":"kN+r","../func/comp":"10ZH","../func/identity":"NCzZ","../iterator":"7F+s","./mapcat":"gEP1","./partition":"WCS9"}],"2PhT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-array"),r=require("../func/identity"),t=require("../iterator");function i(...n){return t.$iter(i,n,t.iterator)||(([t,i,s])=>{let a={},c=!0;const o=new Set,{key:l,mergeOnly:u,reset:y,all:d}=Object.assign({key:r.identity,mergeOnly:!1,reset:!0,all:!0},n[1]),g=e.isArray(n[0])?new Set(n[0]):n[0];return[t,e=>((y&&d&&o.size>0||!y&&c)&&(e=s(e,a),a=void 0,o.clear(),c=!1),i(e)),(e,r)=>{const t=l(r);return g.has(t)&&(a[t]=r,o.add(t),(u||o.size>=g.size)&&(e=s(e,a),c=!1,y?(a={},o.clear()):a=Object.assign({},a))),e}]})}exports.partitionSync=i;
},{"@thi.ng/checks/is-array":"fm3I","../func/identity":"NCzZ","../iterator":"7F+s"}],"ntK2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),r=require("./map");function t(o,u){return u?e.iterator1(t(o),u):r.map(e=>e[o])}exports.pluck=t;
},{"../iterator":"7F+s","./map":"fBkP"}],"OT2h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator");function t(o,n){return n?r.iterator1(t(o),n):r=>{const t=r[2];return e.compR(r,(e,r)=>Math.random()<o?t(e,r):e)}}exports.sample=t;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"C46c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),r=require("../reduced");function t(...u){return u.length>2&&e.$iter(t,u,e.iterator)||(([e,t,n])=>{const[d,c,s]=u[0];let i=u.length>1&&null!=u[1]?u[1]:d();return[e,e=>{let u=c(i);return u!==i&&(e=r.unreduced(n(e,u))),i=u,t(e)},(e,t)=>(i=s(i,t),r.isReduced(i)?r.ensureReduced(n(e,i.deref())):n(e,i))]})}exports.scan=t;
},{"../iterator":"7F+s","../reduced":"wmkI"}],"o5Mm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./renamer");function r(r){return e.renamer(r.reduce((e,r)=>(e[r]=r,e),{}))}exports.keySelector=r;
},{"./renamer":"wip7"}],"n1Y1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/key-selector"),r=require("../iterator"),t=require("./map");function o(s,u){return u?r.iterator1(o(s),u):t.map(e.keySelector(s))}exports.selectKeys=o;
},{"../func/key-selector":"o5Mm","../iterator":"7F+s","./map":"fBkP"}],"XCkK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./map");function t(t){return e.map(e=>(t(e),e))}exports.sideEffect=t;
},{"./map":"fBkP"}],"uqRa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),t=require("../iterator");function r(...n){const o=t.$iter(r,n);if(o)return o;const i=n[0],s=!1!==n[1];return t=>{const r=t[2];let n=[];return e.compR(t,(e,t)=>(n.push(t),(s||n.length===i)&&(e=r(e,n),n=n.slice(n.length===i?1:0)),e))}}exports.slidingWindow=r;
},{"../func/compr":"ZoN0","../iterator":"7F+s"}],"K3KA":[function(require,module,exports) {
"use strict";function e(e,t){const o=e.length;for(t=t<o?t:o;--t>=0;){const t=Math.random()*o|0,n=Math.random()*o|0,r=e[t];e[t]=e[n],e[n]=r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffleN=e;
},{}],"JXLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/shuffle"),r=require("../iterator"),t=require("../reduced");function u(...s){return r.$iter(u,s,r.iterator)||(([r,u,f])=>{const i=s[0],n=s[1]||i,o=[];return[r,r=>{for(;o.length&&!t.isReduced(r);)e.shuffleN(o,n),r=f(r,o.shift());return r=u(r)},(r,t)=>(o.push(t),e.shuffleN(o,n),o.length===i&&(r=f(r,o.shift())),r)]})}exports.streamShuffle=u;
},{"../func/shuffle":"K3KA","../iterator":"7F+s","../reduced":"wmkI"}],"Haja":[function(require,module,exports) {
"use strict";function e(e,t,r,n){const s=t(n);let c=0,o=e.length-1;for(;c<=o;){const n=c+o>>>1,u=r(t(e[n]),s);if(u<0)c=n+1;else{if(!(u>0))return n;o=n-1}}return-c}Object.defineProperty(exports,"__esModule",{value:!0}),exports.binarySearch=e;
},{}],"ITJe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/compare"),r=require("../func/binary-search"),t=require("../func/identity"),i=require("../iterator"),n=require("../reduced");function c(...s){const o=i.$iter(c,s,i.iterator);if(o)return o;const{key:u,compare:a}=Object.assign({key:t.identity,compare:e.compare},s[1]),d=s[0];return([e,t,i])=>{const c=[];return[e,e=>{for(;c.length&&!n.isReduced(e);)e=i(e,c.shift());return t(e)},(e,t)=>{const n=r.binarySearch(c,u,a,t);return c.splice(Math.abs(n),0,t),c.length===d&&(e=i(e,c.shift())),e}]}}exports.streamSort=c;
},{"@thi.ng/compare":"kN+r","../func/binary-search":"Haja","../func/identity":"NCzZ","../iterator":"7F+s","../reduced":"wmkI"}],"1KY3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/comp"),r=require("../iterator"),t=require("./map-keys"),i=require("./partition"),o=require("./partition-of"),u=require("./rename");function a(n,p){return p?r.iterator(a(n),p):e.comp(o.partitionOf(n.map(e=>e[1])),i.partition(n.length),u.rename(n.map(e=>e[0])),t.mapKeys(n.reduce((e,r)=>r[2]?(e[r[0]]=r[2],e):e,{}),!1))}exports.struct=a;
},{"../func/comp":"10ZH","../iterator":"7F+s","./map-keys":"omGR","./partition":"WCS9","./partition-of":"uJgc","./rename":"oWVg"}],"aoBt":[function(require,module,exports) {
"use strict";function e(e){const[r,t,n,s,u,c,a,o]=e;switch(e.length){case 0:return()=>[];case 1:return e=>[e[r]];case 2:return e=>[e[r],e[t]];case 3:return e=>[e[r],e[t],e[n]];case 4:return e=>[e[r],e[t],e[n],e[s]];case 5:return e=>[e[r],e[t],e[n],e[s],e[u]];case 6:return e=>[e[r],e[t],e[n],e[s],e[u],e[c]];case 7:return e=>[e[r],e[t],e[n],e[s],e[u],e[c],e[a]];case 8:return e=>[e[r],e[t],e[n],e[s],e[u],e[c],e[a],e[o]];default:return r=>{const t=[];for(let n=e.length-1;n>=0;n--)t[n]=r[e[n]];return t}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.swizzler=e;
},{}],"zIO+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/swizzler"),r=require("../iterator"),t=require("./map");function i(s,u){return u?r.iterator1(i(s),u):t.map(e.swizzler(s))}exports.swizzle=i;
},{"../func/swizzler":"aoBt","../iterator":"7F+s","./map":"fBkP"}],"0See":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../iterator"),e=require("./throttle");function r(o,u){return u?t.iterator1(r(o),u):(o=Math.max(0,o-1),e.throttle(()=>{let t=0;return()=>0===t?(t=o,!0):(t--,!1)}))}exports.takeNth=r;
},{"../iterator":"7F+s","./throttle":"dKhC"}],"zm7Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/compr"),r=require("../iterator"),t=require("../reduced");function u(...c){return r.$iter(u,c)||(r=>{const u=r[2],o=c[0];let i=!0;return e.compR(r,(e,r)=>(i=i&&o(r))?u(e,r):t.reduced(e))})}exports.takeWhile=u;
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"r8bV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("../iterator"),e=require("./throttle");function r(o,n){return n?t.iterator1(r(o),n):e.throttle(()=>{let t=0;return()=>{const e=Date.now();return e-t>=o&&(t=e,!0)}})}exports.throttleTime=r;
},{"../iterator":"7F+s","./throttle":"dKhC"}],"urik":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./side-effect");function t(t=""){return e.sideEffect(e=>console.log(t,e))}exports.trace=t;
},{"./side-effect":"XCkK"}],"gYSp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const r=require("../func/compr"),e=require("../iterator"),t=require("../reduced");function o(t){return t?[...e.iterator1(o(),t)].join(""):e=>{const t=e[2];let o,n,c,i,a,f=0;return r.compR(e,(r,e)=>{switch(f){case 0:default:if(e<128)return t(r,String.fromCharCode(e));o=e,f=1;break;case 1:if(n=63&e,192==(224&o))return f=0,t(r,String.fromCharCode((31&o)<<6|n));f=2;break;case 2:if(c=63&e,224==(240&o))return f=0,t(r,String.fromCharCode((15&o)<<12|n<<6|c));f=3;break;case 3:if(i=63&e,240==(248&o))return f=0,t(r,u((7&o)<<18|n<<12|c<<6|i));f=4;break;case 4:if(a=63&e,248==(252&o))return f=0,t(r,u((3&o)<<24|n<<18|c<<12|i<<6|a));f=5;break;case 5:return f=0,t(r,u((1&o)<<30|n<<24|c<<18|i<<12|a<<6|63&e))}return r})}}function n(o){return null!=o?e.iterator(n(),o):e=>{const o=e[2];return r.compR(e,(r,e)=>{let n,u=e.charCodeAt(0);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(1)),u<128)return o(r,u);for(let c=0,i=(n=u<2048?[192|u>>6,128|63&u]:u<65536?[224|u>>12,128|u>>6&63,128|63&u]:u<2097152?[240|u>>18,128|u>>12&63,128|u>>6&63,128|63&u]:u<67108864?[248|u>>24,128|u>>18&63,128|u>>12&63,128|u>>6&63,128|63&u]:[252|u>>30,128|u>>24&63,128|u>>18&63,128|u>>12&63,128|u>>6&63,128|63&u]).length;c<i&&(r=o(r,n[c]),!t.isReduced(r));c++);return r})}}exports.utf8Decode=o,exports.utf8Encode=n;const u=r=>r<65536?String.fromCharCode(r):(r-=65536,String.fromCharCode(55296|r>>10,56320|1023&r));
},{"../func/compr":"ZoN0","../iterator":"7F+s","../reduced":"wmkI"}],"EUGr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iterator"),t=require("./partition-by");function r(...i){const n=e.$iter(r,i,e.iterator);if(n)return n;const o=i[0],{delim:s,always:a}=Object.assign({delim:1,always:!0},i[1]);return t.partitionBy(()=>{let e=0,t=!1;return r=>((e+=r.length+s)>o+(a?0:s)&&(t=!t,e=r.length+s),t)},!0)}exports.wordWrap=r;
},{"../iterator":"7F+s","./partition-by":"GWyt"}],"ogdv":[function(require,module,exports) {
"use strict";function e(e){return()=>e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.constantly=e;
},{}],"YA9L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arguments");function r(r){return null!=r&&r[Symbol.iterator]||e.illegalArgs(`value is not iterable: ${r}`),r}exports.ensureIterable=r;
},{"@thi.ng/errors/illegal-arguments":"TWhV"}],"2zYD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/checks/is-array"),r=require("@thi.ng/checks/is-arraylike"),s=require("./ensure-iterable");function i(r){return e.isArray(r)?r:[...s.ensureIterable(r)]}function t(e){return r.isArrayLike(e)?e:[...s.ensureIterable(e)]}exports.ensureArray=i,exports.ensureArrayLike=t;
},{"@thi.ng/checks/is-array":"fm3I","@thi.ng/checks/is-arraylike":"Fd5S","./ensure-iterable":"YA9L"}],"Eop8":[function(require,module,exports) {
"use strict";function e(e){return e%2==0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEven=e;
},{}],"sLCf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@thi.ng/checks/is-even");exports.even=e.isEven;
},{"@thi.ng/checks/is-even":"Eop8"}],"r/pc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/strings/radix");exports.hex=((r=2,t="")=>e.radix(16,r,t));
},{"@thi.ng/strings/radix":"mA3D"}],"QUQK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../reduced");function d(...d){let[u,r,c]=d;const t=d.length;switch(t){case 1:{const d=u[2];return[()=>[u[0]()],e=>[u[1](e[0])],(u,r)=>{const c=d(u[0],r);return e.isReduced(c)?e.reduced([e.unreduced(c)]):[c]}]}case 2:{const d=u[2],c=r[2];return[()=>[u[0](),r[0]()],e=>[u[1](e[0]),r[1](e[1])],(u,r)=>{const t=d(u[0],r),n=c(u[1],r);return e.isReduced(t)||e.isReduced(n)?e.reduced([e.unreduced(t),e.unreduced(n)]):[t,n]}]}case 3:{const d=u[2],t=r[2],n=c[2];return[()=>[u[0](),r[0](),c[0]()],e=>[u[1](e[0]),r[1](e[1]),c[1](e[2])],(u,r)=>{const c=d(u[0],r),s=t(u[1],r),o=n(u[2],r);return e.isReduced(c)||e.isReduced(s)||e.isReduced(o)?e.reduced([e.unreduced(c),e.unreduced(s),e.unreduced(o)]):[c,s,o]}]}default:return[()=>d.map(e=>e[0]()),e=>d.map((d,u)=>d[1](e[u])),(u,r)=>{let c=!1;const n=[];for(let s=0;s<t;s++){let t=d[s][2](u[s],r);e.isReduced(t)&&(c=!0,t=e.unreduced(t)),n[s]=t}return c?e.reduced(n):n}]}}exports.juxtR=d;
},{"../reduced":"wmkI"}],"p5+t":[function(require,module,exports) {
"use strict";function o(o){return e=>o[e]}function e(o,e){return t=>o[t[0]+t[1]*e]}function t(o,e,t){const r=e*t;return t=>o[t[0]+t[1]*e+t[2]*r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lookup1d=o,exports.lookup2d=e,exports.lookup3d=t;
},{}],"S+eV":[function(require,module,exports) {
"use strict";function e(e){return e%2!=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isOdd=e;
},{}],"d9Pd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@thi.ng/checks/is-odd");exports.odd=e.isOdd;
},{"@thi.ng/checks/is-odd":"S+eV"}],"iQsT":[function(require,module,exports) {
"use strict";function e(e){return e[e.length-1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.peek=e;
},{}],"4Mxp":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=e;
},{}],"d1qq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iter/repeat"),t=require("../iter/tuples");function r(r,o){const n=r.length,s=[...t.tuples(r,o||e.repeat(1))].sort((e,t)=>t[1]-e[1]);let u,i,p,a=0;for(u=0;u<n;u++)a+=o[u];return()=>{for(i=Math.random()*a,p=a,u=0;u<n;u++)if((p-=s[u][1])<=i)return s[u][0]}}exports.weightedRandom=r;
},{"../iter/repeat":"4Mxp","../iter/tuples":"dkwB"}],"qlUZ":[function(require,module,exports) {
"use strict";function*e(e,t=1/0){for(;t-- >0;)yield e()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeatedly=e;
},{}],"XG5l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/weighted-random"),r=require("./repeatedly");function t(t,n){return r.repeatedly(n?e.weightedRandom(t,n):()=>t[Math.random()*t.length|0])}exports.choices=t;
},{"../func/weighted-random":"d1qq","./repeatedly":"qlUZ"}],"hOx5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../iter/choices"),r=require("../xform/take");exports.randomID=((o=4,t="",i="abcdefghijklmnopqrstuvwxyz")=>[t,...r.take(o,e.choices(i))].join(""));
},{"../iter/choices":"XG5l","../xform/take":"ZLdz"}],"kkBf":[function(require,module,exports) {
"use strict";function*e(e){yield*e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.asIterable=e;
},{}],"pi7L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/ensure-iterable");function*r(...r){for(let t of r)null!=t&&(yield*e.ensureIterable(t))}exports.concat=r;
},{"../func/ensure-iterable":"YA9L"}],"04YQ":[function(require,module,exports) {
"use strict";function*e(e){let t=[];for(let l of e)t.push(l),yield l;if(t.length>0)for(;;)yield*t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cycle=e;
},{}],"+fbh":[function(require,module,exports) {
"use strict";function*e(e,t){for(;;)yield t,t=e(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.iterate=e;
},{}],"w2k1":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.keys=e;
},{}],"BqjZ":[function(require,module,exports) {
"use strict";function*e(e,t=!0){if(e>0)for(let o=0,r=t?e+1:e;o<r;o++)yield o/e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.normRange=e;
},{}],"4/kq":[function(require,module,exports) {
"use strict";function*e(e){for(let r in e)e.hasOwnProperty(r)&&(yield[r,e[r]])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairs=e;
},{}],"Oyqb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arguments"),r=require("../func/ensure-array"),t=require("./range");function*n(...e){const t=e.length-1;if(t<0)return;const n=new Array(t+1).fill(0),s=e.map(r.ensureArrayLike),l=s.reduce((e,r)=>e*r.length,1);for(let r=0;r<l;r++){const e=[];for(let r=t;r>=0;r--){const t=s[r];let l=n[r];l===t.length&&(n[r]=l=0,r>0&&n[r-1]++),e[r]=t[l]}n[t]++,yield e}}function s(r,s=r,l){l&&l.length<r&&e.illegalArgs(`insufficient offsets, got ${l.length}, needed ${r}`);const o=[];for(;--r>=0;){const e=l?l[r]:0;o[r]=t.range(e,e+s)}return n.apply(null,o)}exports.permutations=n,exports.permutationsN=s;
},{"@thi.ng/errors/illegal-arguments":"TWhV","../func/ensure-array":"2zYD","./range":"ndcf"}],"6gXF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arity"),r=require("./range");function*t(...t){let l,a,o,n,i,s,g,c,f;switch(t.length){case 9:g=t[6],c=t[7],f=t[8];case 6:[l,a,o,n,i,s]=t;break;case 3:[a,n,s]=t,l=o=i=0;break;default:e.illegalArity(t.length)}const u=r.range(l,a,g),d=r.range(o,n,c);for(let e of r.range(i,s,f))for(let r of d)for(let t of u)yield[t,r,e]}exports.range3d=t;
},{"@thi.ng/errors/illegal-arity":"HmRg","./range":"ndcf"}],"Nwyj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../func/ensure-array");function*r(r){const t=e.ensureArray(r);let s=t.length;for(;--s>=0;)yield t[s]}exports.reverse=r;
},{"../func/ensure-array":"2zYD"}],"YHVg":[function(require,module,exports) {
"use strict";function*e(e){for(let t in e)e.hasOwnProperty(t)&&(yield e[t])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vals=e;
},{}],"E9ci":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/errors/illegal-arguments"),r=require("../func/ensure-array");function*t(t,l=1,n=!0,i=!0){const o=r.ensureArray(t);if((l<0||l>o.length)&&e.illegalArgs(`wrong number of wrap items: got ${l}, but max: ${o.length}`),n)for(let e=o.length,r=e-l;r<e;r++)yield o[r];if(yield*o,i)for(let e=0;e<l;e++)yield o[e]}exports.wrap=t;
},{"@thi.ng/errors/illegal-arguments":"TWhV","../func/ensure-array":"2zYD"}],"ntmJ":[function(require,module,exports) {
"use strict";function r(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}Object.defineProperty(exports,"__esModule",{value:!0}),r(require("./iterator")),r(require("./reduce")),r(require("./reduced")),r(require("./run")),r(require("./step")),r(require("./transduce")),r(require("./rfn/add")),r(require("./rfn/assoc-map")),r(require("./rfn/assoc-obj")),r(require("./rfn/conj")),r(require("./rfn/count")),r(require("./rfn/div")),r(require("./rfn/every")),r(require("./rfn/fill")),r(require("./rfn/frequencies")),r(require("./rfn/group-binary")),r(require("./rfn/group-by-map")),r(require("./rfn/group-by-obj")),r(require("./rfn/last")),r(require("./rfn/max-compare")),r(require("./rfn/max")),r(require("./rfn/mean")),r(require("./rfn/min-compare")),r(require("./rfn/min")),r(require("./rfn/mul")),r(require("./rfn/push-copy")),r(require("./rfn/push")),r(require("./rfn/reductions")),r(require("./rfn/some")),r(require("./rfn/str")),r(require("./rfn/sub")),r(require("./xform/base64")),r(require("./xform/benchmark")),r(require("./xform/bits")),r(require("./xform/cat")),r(require("./xform/convolve")),r(require("./xform/dedupe")),r(require("./xform/delayed")),r(require("./xform/distinct")),r(require("./xform/drop-nth")),r(require("./xform/drop-while")),r(require("./xform/drop")),r(require("./xform/duplicate")),r(require("./xform/filter")),r(require("./xform/filter-fuzzy")),r(require("./xform/flatten-with")),r(require("./xform/flatten")),r(require("./xform/hex-dump")),r(require("./xform/indexed")),r(require("./xform/interleave")),r(require("./xform/interpose")),r(require("./xform/keep")),r(require("./xform/labeled")),r(require("./xform/map-deep")),r(require("./xform/map-indexed")),r(require("./xform/map-keys")),r(require("./xform/map-nth")),r(require("./xform/map-vals")),r(require("./xform/map")),r(require("./xform/mapcat")),r(require("./xform/match-first")),r(require("./xform/match-last")),r(require("./xform/moving-average")),r(require("./xform/moving-median")),r(require("./xform/multiplex")),r(require("./xform/multiplex-obj")),r(require("./xform/noop")),r(require("./xform/pad-last")),r(require("./xform/page")),r(require("./xform/partition-bits")),r(require("./xform/partition-by")),r(require("./xform/partition-of")),r(require("./xform/partition-sort")),r(require("./xform/partition-sync")),r(require("./xform/partition")),r(require("./xform/pluck")),r(require("./xform/rename")),r(require("./xform/sample")),r(require("./xform/scan")),r(require("./xform/select-keys")),r(require("./xform/side-effect")),r(require("./xform/sliding-window")),r(require("./xform/stream-shuffle")),r(require("./xform/stream-sort")),r(require("./xform/struct")),r(require("./xform/swizzle")),r(require("./xform/take-nth")),r(require("./xform/take-last")),r(require("./xform/take-while")),r(require("./xform/take")),r(require("./xform/throttle")),r(require("./xform/throttle-time")),r(require("./xform/trace")),r(require("./xform/utf8")),r(require("./xform/word-wrap")),r(require("./func/binary-search")),r(require("./func/comp")),r(require("./func/compr")),r(require("./func/constantly")),r(require("./func/deep-transform")),r(require("./func/delay")),r(require("./func/ensure-array")),r(require("./func/ensure-iterable")),r(require("./func/even")),r(require("./func/fuzzy-match")),r(require("./func/hex")),r(require("./func/identity")),r(require("./func/juxt")),r(require("./func/juxtr")),r(require("./func/key-selector")),r(require("./func/lookup")),r(require("./func/odd")),r(require("./func/peek")),r(require("./func/random-id")),r(require("./func/renamer")),r(require("./func/swizzler")),r(require("./func/weighted-random")),r(require("./iter/as-iterable")),r(require("./iter/choices")),r(require("./iter/concat")),r(require("./iter/cycle")),r(require("./iter/iterate")),r(require("./iter/keys")),r(require("./iter/norm-range")),r(require("./iter/pairs")),r(require("./iter/permutations")),r(require("./iter/range")),r(require("./iter/range2d")),r(require("./iter/range3d")),r(require("./iter/repeat")),r(require("./iter/repeatedly")),r(require("./iter/reverse")),r(require("./iter/tuples")),r(require("./iter/vals")),r(require("./iter/wrap"));
},{"./iterator":"7F+s","./reduce":"hay8","./reduced":"wmkI","./run":"6TrO","./step":"KHPz","./transduce":"1O6O","./rfn/add":"DNzN","./rfn/assoc-map":"1e0U","./rfn/assoc-obj":"TDT0","./rfn/conj":"JlsD","./rfn/count":"n9G6","./rfn/div":"plMW","./rfn/every":"eUq5","./rfn/fill":"kAV5","./rfn/frequencies":"Ik92","./rfn/group-binary":"zZIj","./rfn/group-by-map":"/u4d","./rfn/group-by-obj":"KupN","./rfn/last":"p/fJ","./rfn/max-compare":"eOls","./rfn/max":"LAGn","./rfn/mean":"R84Q","./rfn/min-compare":"9OrD","./rfn/min":"aZ1b","./rfn/mul":"4cwh","./rfn/push-copy":"nd4j","./rfn/push":"xJML","./rfn/reductions":"vhuO","./rfn/some":"BWxf","./rfn/str":"OHsj","./rfn/sub":"/bWa","./xform/base64":"G//y","./xform/benchmark":"6TeG","./xform/bits":"imor","./xform/cat":"XFQx","./xform/convolve":"eq8Y","./xform/dedupe":"4tm7","./xform/delayed":"pCRw","./xform/distinct":"bj39","./xform/drop-nth":"ao7H","./xform/drop-while":"hQVd","./xform/drop":"ouQu","./xform/duplicate":"6KyN","./xform/filter":"Srlq","./xform/filter-fuzzy":"6pnu","./xform/flatten-with":"jOUa","./xform/flatten":"7K47","./xform/hex-dump":"7tfA","./xform/indexed":"Vl3R","./xform/interleave":"m3sl","./xform/interpose":"i6D1","./xform/keep":"iXIn","./xform/labeled":"UcmY","./xform/map-deep":"rHLo","./xform/map-indexed":"MQMZ","./xform/map-keys":"omGR","./xform/map-nth":"29O4","./xform/map-vals":"Hddo","./xform/map":"fBkP","./xform/mapcat":"gEP1","./xform/match-first":"GO3g","./xform/match-last":"MGxr","./xform/moving-average":"cIjO","./xform/moving-median":"6mxu","./xform/multiplex":"4qDG","./xform/multiplex-obj":"wUYq","./xform/noop":"1SgZ","./xform/pad-last":"YNK6","./xform/page":"jwxl","./xform/partition-bits":"jBYR","./xform/partition-by":"GWyt","./xform/partition-of":"uJgc","./xform/partition-sort":"t8Nq","./xform/partition-sync":"2PhT","./xform/partition":"WCS9","./xform/pluck":"ntK2","./xform/rename":"oWVg","./xform/sample":"OT2h","./xform/scan":"C46c","./xform/select-keys":"n1Y1","./xform/side-effect":"XCkK","./xform/sliding-window":"uqRa","./xform/stream-shuffle":"JXLY","./xform/stream-sort":"ITJe","./xform/struct":"1KY3","./xform/swizzle":"zIO+","./xform/take-nth":"0See","./xform/take-last":"eHWT","./xform/take-while":"zm7Q","./xform/take":"ZLdz","./xform/throttle":"dKhC","./xform/throttle-time":"r8bV","./xform/trace":"urik","./xform/utf8":"gYSp","./xform/word-wrap":"EUGr","./func/binary-search":"Haja","./func/comp":"10ZH","./func/compr":"ZoN0","./func/constantly":"ogdv","./func/deep-transform":"uSZO","./func/delay":"iNqr","./func/ensure-array":"2zYD","./func/ensure-iterable":"YA9L","./func/even":"sLCf","./func/fuzzy-match":"7bTB","./func/hex":"r/pc","./func/identity":"NCzZ","./func/juxt":"nTwB","./func/juxtr":"QUQK","./func/key-selector":"o5Mm","./func/lookup":"p5+t","./func/odd":"d9Pd","./func/peek":"iQsT","./func/random-id":"hOx5","./func/renamer":"wip7","./func/swizzler":"aoBt","./func/weighted-random":"d1qq","./iter/as-iterable":"kkBf","./iter/choices":"XG5l","./iter/concat":"pi7L","./iter/cycle":"04YQ","./iter/iterate":"+fbh","./iter/keys":"w2k1","./iter/norm-range":"BqjZ","./iter/pairs":"4/kq","./iter/permutations":"Oyqb","./iter/range":"ndcf","./iter/range2d":"xkJV","./iter/range3d":"6gXF","./iter/repeat":"4Mxp","./iter/repeatedly":"qlUZ","./iter/reverse":"Nwyj","./iter/tuples":"dkwB","./iter/vals":"YHVg","./iter/wrap":"E9ci"}],"tHvl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EV_SET_VALUE="--set-value",exports.EV_UPDATE_VALUE="--update-value",exports.EV_TOGGLE_VALUE="--toggle-value",exports.FX_CANCEL="--cancel",exports.FX_DISPATCH="--dispatch",exports.FX_DISPATCH_ASYNC="--dispatch-async",exports.FX_DISPATCH_NOW="--dispatch-now",exports.FX_DELAY="--delay",exports.FX_FETCH="--fetch",exports.FX_STATE="--state",exports.EV_REDO="--redo",exports.EV_UNDO="--undo";
},{}],"GGkB":[function(require,module,exports) {
"use strict";function e(e){return e instanceof Promise}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=e;
},{}],"VG8Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@thi.ng/atom/atom"),e=require("@thi.ng/checks/implements-function"),s=require("@thi.ng/checks/is-array"),i=require("@thi.ng/checks/is-function"),r=require("@thi.ng/checks/is-promise"),n=require("@thi.ng/errors/illegal-arguments"),o=require("@thi.ng/paths"),h=require("./api"),c=h.FX_CANCEL,f=h.FX_DISPATCH_NOW,u=h.FX_STATE;class d{constructor(t,e){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),t&&this.addHandlers(t),e&&this.addEffects(e)}addBuiltIns(){this.addEffects({[h.FX_DISPATCH]:[t=>this.dispatch(t),-999],[h.FX_DISPATCH_ASYNC]:[([t,e,s,i])=>{const n=this.effects[t];if(n){const t=n(e,this);r.isPromise(t)?t.then(t=>this.dispatch([s,t])).catch(t=>this.dispatch([i,t])):console.warn("async effect did not return Promise")}else console.warn(`skipping invalid async effect: ${t}`)},-999],[h.FX_DELAY]:[([t,e])=>new Promise(s=>setTimeout(()=>s(e),t)),1e3],[h.FX_FETCH]:[t=>fetch(t).then(t=>{if(!t.ok)throw new Error(t.statusText);return t}),1e3]})}addHandler(t,e){const r=s.isArray(e)?e.map(a):i.isFunction(e)?[{pre:e}]:[e];r.length>0?(this.handlers[t]&&(this.removeHandler(t),console.warn(`overriding handler for ID: ${t}`)),this.handlers[t]=r):n.illegalArgs(`no handlers in spec for ID: ${t}`)}addHandlers(t){for(let e in t)this.addHandler(e,t[e])}addEffect(t,e,s=1){this.effects[t]&&(this.removeEffect(t),console.warn(`overriding effect for ID: ${t}`)),this.effects[t]=e;const i=[t,s],r=this.priorities;for(let n=0;n<r.length;n++)if(i[1]<r[n][1])return void r.splice(n,0,i);r.push(i)}addEffects(t){for(let e in t){const i=t[e];s.isArray(i)?this.addEffect(e,i[0],i[1]):this.addEffect(e,i)}}instrumentWith(t,e){const s=t.map(a),i=this.handlers;for(let r of e||Object.keys(i)){const t=i[r];t&&(i[r]=s.concat(t))}}removeHandler(t){delete this.handlers[t]}removeHandlers(t){for(let e of t)this.removeHandler(e)}removeEffect(t){delete this.effects[t];const e=this.priorities;for(let s=e.length-1;s>=0;s--)if(t===e[s][0])return void e.splice(s,1)}removeEffects(t){for(let e of t)this.removeEffect(e)}context(){return this.currCtx}dispatch(...t){this.eventQueue.push(...t)}dispatchNow(...t){(this.currQueue||this.eventQueue).push(...t)}dispatchLater(t,e=17){setTimeout(()=>this.dispatch(t),e)}processQueue(t){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=t||{};for(let e of this.currQueue)this.processEvent(t,e);return this.currQueue=this.currCtx=void 0,this.processEffects(t),!0}return!1}processEvent(t,e){const s=this.handlers[e[0]];if(!s)return void console.warn(`missing handler for event type: ${e[0].toString()}`);const i=s.length-1;let r=!1;for(let n=0;n<=i&&!t[c];n++){const i=s[n];i.pre&&this.mergeEffects(t,i.pre(t[u],e,this,t)),r=r||!!i.post}if(r)for(let n=i;n>=0&&!t[c];n--){const i=s[n];i.post&&this.mergeEffects(t,i.post(t[u],e,this,t))}}processEffects(t){const e=this.effects;for(let s of this.priorities){const i=s[0],r=t[i];if(void 0!==r){const s=e[i];if(i!==u)for(let e of r)s(e,this,t);else s(r,this,t)}}}mergeEffects(t,e){if(e)for(let i in e){const r=e[i];if(null!=r)if(i===u||i===c)t[i]=r;else if(i===f)if(s.isArray(r[0]))for(let t of r)t&&this.dispatchNow(t);else this.dispatchNow(r);else if(t[i]||(t[i]=[]),s.isArray(r[0]))for(let e of r)void 0!==e&&t[i].push(e);else t[i].push(r)}}}exports.StatelessEventBus=d;class l extends d{constructor(e,s,i){super(s,i),this.state=e||new t.Atom({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[h.EV_SET_VALUE]:(t,[e,[s,i]])=>({[u]:o.setIn(t,s,i)}),[h.EV_UPDATE_VALUE]:(t,[e,[s,i,...r]])=>({[u]:o.updateIn(t,s,i,...r)}),[h.EV_TOGGLE_VALUE]:(t,[e,s])=>({[u]:o.updateIn(t,s,t=>!t)}),[h.EV_UNDO]:p("undo"),[h.EV_REDO]:p("redo")}),this.addEffects({[u]:[t=>this.state.reset(t),-1e3]})}processQueue(t){if(this.eventQueue.length>0){const e=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=Object.assign({},t,{[u]:e});for(let s of this.currQueue)this.processEvent(t,s);return this.currQueue=this.currCtx=void 0,this.processEffects(t),this.state.deref()!==e}return!1}}exports.EventBus=l;const a=t=>i.isFunction(t)?{pre:t}:t,p=t=>(s,[i,r],n,o)=>{let h=r?r[0]:"history";if(e.implementsFunction(o[h],t)){const e=o[h][t]();return{[u]:n.state.deref(),[f]:r?void 0!==e?r[1]:r[2]:void 0}}console.warn("no history in context")};
},{"@thi.ng/atom/atom":"QdOP","@thi.ng/checks/implements-function":"3rTe","@thi.ng/checks/is-array":"fm3I","@thi.ng/checks/is-function":"biGe","@thi.ng/checks/is-promise":"GGkB","@thi.ng/errors/illegal-arguments":"TWhV","@thi.ng/paths":"X3Fy","./api":"tHvl"}],"JYZy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@thi.ng/paths"),r=require("./api");exports.trace=((e,r)=>console.log("event:",r)),exports.forwardSideFx=(e=>(r,[t,s])=>({[e]:void 0===s||s})),exports.dispatch=(e=>()=>({[r.FX_DISPATCH]:e})),exports.dispatchNow=(e=>()=>({[r.FX_DISPATCH_NOW]:e})),exports.snapshot=((e="history")=>(r,t,s,o)=>o[e].record()),exports.ensurePred=((e,t)=>(s,o,n)=>e(s,o,n)?void 0:Object.assign({[r.FX_CANCEL]:!0},t?t(s,o,n):null)),exports.ensureStateLessThan=((r,t,s)=>exports.ensurePred((s,o)=>e.getIn(s,t?t(o):o[1])<r,s)),exports.ensureStateGreaterThan=((r,t,s)=>exports.ensurePred((s,o)=>e.getIn(s,t?t(o):o[1])>r,s)),exports.ensureStateRange=((r,t,s,o)=>exports.ensurePred((o,n)=>{const p=e.getIn(o,s?s(n):n[1]);return p>=r&&p<=t},o)),exports.ensureParamRange=((e,r,t,s)=>exports.ensurePred((s,o)=>{const n=t?t(o):o[1];return n>=e&&n<=r},s)),exports.valueSetter=((t,s)=>{const o=e.setter(t);return(e,[t,n])=>({[r.FX_STATE]:o(e,s?s(n):n)})}),exports.valueUpdater=((t,s)=>{const o=e.updater(t,s);return(e,[t,...s])=>({[r.FX_STATE]:o(e,...s)})});
},{"@thi.ng/paths":"X3Fy","./api":"tHvl"}],"KxTz":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./api")),e(require("./event-bus")),e(require("./interceptors"));
},{"./api":"tHvl","./event-bus":"VG8Y","./interceptors":"JYZy"}],"7boC":[function(require,module,exports) {
module.exports=[{title:"example-extrude"},{title:"example-primitives"},{title:"example-regl"}];
},{}],"7QCb":[function(require,module,exports) {
"use strict";var e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var r=require("@thi.ng/atom"),n=require("@thi.ng/hdom"),u=e(require("@thi.ng/transducers")),i=e(require("@thi.ng/interceptors")),l=t(require("./data.json")),s=new r.Atom({selected:""}),o=new i.EventBus(s,{init:function(){var e;return(e={})[i.FX_STATE]={selected:""},e},select:[i.valueUpdater("selected",function(e,t){return t})]}),a=function(){console.log("render navbar");var e=u.transduce(u.map(function(e){return["p.pointer"+(e.title===s.value.selected?".b":""),{onclick:function(){return o.dispatch(["select",e.title])}},e.title]}),u.push(),l.default);return function(){return["div.ba",["div.w5",e]]}},c=function(){return console.log("render content",{selected:s.value.selected}),function(){return["div.ba.w-100",["iframe",{src:"./examples/"+s.value.selected+"/index.html",frameborder:0,allowfullscreen:!0}]]}},d=function(){return console.log("render app"),["div.h-100",["div.h-100.flex",a(),c()]]};n.start(function(e){var t=e.bus;e.state;return t.processQueue()?d():null},{ctx:{state:s,bus:o}}),o.dispatch(["init"]);
},{"@thi.ng/atom":"qjcu","@thi.ng/hdom":"RwEF","@thi.ng/transducers":"ntmJ","@thi.ng/interceptors":"KxTz","./data.json":"7boC"}]},{},["7QCb"], null)